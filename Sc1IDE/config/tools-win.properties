#[mhb]:06/27/09 15:21:58
[Subsystem Constants]:: define some constants (don't modify them!!')
##define constants for subsystem values
C_CONSOLE=0
C_WINDOWS=1
C_SHELLEXEC=2
C_LUA=3
C_CHM=4
C_HLP=5

##define constants for savebefore values
C_ASKSAVE=0
C_AUTOSAVE=1
C_NOTSAVE=2

[Root Submenu]:: make filetype specific user tools into a submenu
## make language specific tools menu under a submenu 
command.submenu.name.1.*=.$(FileExt) 
command.parent.0.*=1
command.parent.1.*=1
command.parent.2.*=1
command.parent.3.*=1
command.parent.4.*=1
command.parent.5.*=1
command.parent.6.*=1
command.parent.7.*=1
command.parent.8.*=1
command.parent.9.*=1
command.parent.10.*=1
command.parent.11.*=1
command.parent.12.*=1
command.parent.13.*=1
command.parent.14.*=1
command.parent.15.*=1
command.parent.16.*=1
command.parent.17.*=1
command.parent.18.*=1
command.parent.19.*=1

[Common Settings]:: define some common settings
##define command interpreter: MTeX uses 4nt instead of CMD.exe 
COMSPEC=cmd.exe
CMD=$(COMSPEC) /c
CMDCHDIR=& cd /d "$(FileDir)" &
CMDPAUSE=& pause
CMDUTIL="$(SciteDefaultHome)\cmdutil.bat" 
CMD4NT="$(MTEX)\bin\4nt.exe"

if USE_MTEX
	COMSPEC=$(CMD4NT)
	CMD=$(CMD4NT) /c
	#~ CMD=4nt.exe /c 
	CMDCHDIR=^ cdd "$(FileDir)" ^
	CMDPAUSE=^ pause
	CMDUTIL=$(CMD) util

##define command to generate a temporary file from standard input (selected text)
TMPFILE="%TEMP%\\__tmp__.$(FileExt)"
CMD_GEN_TMPFILE=cmd.exe /c more.com >$(TMPFILE)



[Default Go Commands]:: define default go commands for misc filetypes
## menucmds.lua will automatically set : command.go.$(file.patterns.xxx)=$(GO_xxx)
CMD_RUN_EXE=$(CMD) $(CMDCHDIR) "$(FileName)" 
# CMD_RUN_EXE=$(CMD) $(CMDCHDIR) "$(FileName)" $(CMDPAUSE)
GO_*=${CMD_RUN_EXE};;$(C_SHELLEXEC)
GO_pascal=${CMD_RUN_EXE};;$(C_SHELLEXEC)
GO_cpp=${CMD_RUN_EXE};;$(C_SHELLEXEC)
GO_fortran=${CMD_RUN_EXE};;$(C_SHELLEXEC)
GO_tex=${CMD_PDFFIND};;$(C_SHELLEXEC)
GO_latex=${CMD_PDFFIND};;$(C_SHELLEXEC)
GO_html="file://${FilePath}"
GO_hta="${FilePath}"
GO_php=${PHP}\php.exe -f "${FileNameExt}"
GO_vbscript=wscript "${FilePath}"
GO_js=wscript "${FilePath}"
GO_lua=dofile ${FilePath}
GO_batch=${CMD} "${FilePath}"
GO_au3=${AUTOIT}\auit3.exe /in "${FilePath}"
GO_cs=${MONO}\mono.exe ${FileName}.exe
GO_java=java ${FilePath}
GO_ch=${CH}\ch.exe -u ${FileNameExt}
GO_kix=${KIX}\kix32 ${FileNameExt}
GO_lout=${GSVIEW}\gsview32.exe "${FileName}.ps"
GO_nsis="${FileDir}\${FileName}.exe"
GO_rlab=${RLAB}\rlab.exe "${FilePath}"
GO_gnuplot=${GNUPLOT}\wgnuplot.exe "${FilePath}"
GO_idle=${IDLE}\idlew.exe "${FilePath}"
GO_yacas=${YACAS}\yacas.exe -pc --archive ${YACAS}\scripts.dat 
GO_ox=${OX}\oxl.exe "${FilePath}"
GO_wb=${MTEX}\bin\wbox.exe "${FilePath}"
GO_rb=${RUBY}\rubyw "${FilePath}"
GO_python=${PYTHON}\pythonw.exe "${FilePath}"
GO_perl=${PERL}\perl.exe "${FilePath}"
GO_conf=${APACHE}\httpd.exe -t -f "${FilePath}"
GO_euphoria=$(CMD) start $(EUPHORIA)\exw.exe "${FilePath}"

[Default Build Commands]:: define default build commands for misc filetypes
## menucmds.lua will automatically set : command.build.$(file.patterns.xxx)=$(BUILD_xxx)
BUILD_*=${MAKER} -f makefile
BUILD_tex=${CMD} dvipdfm "${FileDir}\${FileName}.dvi"
BUILD_latex=${CMD} dvipdfm "${FileDir}\${FileName}.dvi"
BUILD_lua=lua {FilePath}
BUILD_vb=${POWERBASIC}\pbedit.exe "${FilePath}"
BUILD_pascal=fpc -B "${FilePath}"
BUILD_au3=${AUTOIT}\aut2exe\aut2exe.exe /in "${FilePath}"
BUILD_ada=${MINGW}\gnatmake.exe
BUILD_asm=$(MASM32)\link.exe /SUBSYSTEM:WINDOWS ${LINK32.OPTS}  ${FileName} ${MASM32.LIBS};
BUILD_cpp=${MAKER}
BUILD_cs=mcs /t:winexe ${FileNameExt} /r:System,System.Drawing
BUILD_asy=${CMDUTIL} asy --format=pdf "${FilePath}"

[Default Compile Commands]:: define default compile commands for misc filetypes
## menucmds.lua will automatically set : command.compile.$(file.patterns.xxx)=$(COMPILE_xxx)

## for tex files, now you can use integrated Smart TeXing (with lua script!)
COMPILE_tex=smart_tex;;${C_LUA}
if USE_MTEX
# COMPILE_tex=${CMD} clatex ${FilePath};;${C_SHELLEXEC}

COMPILE_latex=$(COMPILE_tex)

COMPILE_*=$(CMD) clatex "${FilePath}";;${C_SHELLEXEC}
COMPILE_cpp=${CMD} gcc ${FilePath}
COMPILE_vb=${POWERBASIC}\pbwin.exe "${FilePath}"
COMPILE_pascal=${DELPHI}\dcc32.exe "${FilePath}"
COMPILE_au3=${AUTOIT}\aut2exe\aut2exe.exe /in "${FilePath}"
COMPILE_d=${DMD}\dmd.exe -O "${FilePath}"
COMPILE_specman=${SPECMAN}\ecompile.exe "${FilePath}"
COMPILE_forth=${FORTH}\spf4.exe "${FilePath}"
COMPILE_ada=${MINGW}\gnat.exe "${FilePath}"
COMPILE_asm=${MASM32}\ml.exe /c ${MASM32.OPTS} ${FilePath}
COMPILE_rc=${BCC}\brcc32.exe "${FilePath}"
COMPILE_c="${FilePath}"
COMPILE_cpp=${MINGW}\gcc.exe -o ${FileName}.o "${FilePath}"
COMPILE_cs=${MONO}\mono.exe "${FilePath}"
COMPILE_ch=${CH}\ch.exe -n ${FileNameExt}
COMPILE_java=javac ${FileNameExt}
COMPILE_fortran=${MINGW}\g77.exe ${FileNameExt}
COMPILE_lout=${LOUT}\lout.exe -o "${FileName}.ps" "${FileNameExt}"
COMPILE_nsis=${NSIS}\makensis.exe "${FilePath}"
COMPILE_inno=${INNO}\issc.exe "${FilePath}"
COMPILE_pov=pvengine.exe "${FilePath}"
COMPILE_asy=${CMDUTIL} asy "${FilePath}"
COMPILE_sol=${SOL}\solc.exe -c "${FilePath}"
COMPILE_caml=${CAML}\ocamlc.exe -c "${FilePath}"

[Tools Menu for all files]:: define menus for all files
MENU_*=\
Generate Makefile|${CMD_GENMAKEFILE}|Shift+F7|$(C_SHELLEXEC)|separator==>1;;\
Set As Main File|set_mainfile|Shift+F10|$(C_LUA)|id==>SET_MAINFILE;;\
Smart Compile Main File|compile_mainfile|Ctrl+F10|$(C_LUA);;\
Reload Menucmds!|reload_menucmds|Ctrl+Alt+F9|$(C_LUA)|separator==>1;;\
Reload StartUp script!|dofile ${ext.lua.startup.script}|Ctrl+Alt+F10|$(C_LUA)|$(C_NOTSAVE);;\
Open Files|@@SUBMENU_openfiles|100;;\
Copy To Clipboard|@@SUBMENU_clipboard|110;;\
Insert|@@SUBMENU_insert|120;;\
Move Selected Lines|@@SUBMENU_move_lines|130;;\
Find/Search|@@SUBMENU_find|135;;\
From Selection|@@SUBMENU_from_sel|150;;\
Spell Checking|@@SUBMENU_spell_checking|163;;\
Edit Settings|@@SUBMENU_settings|170;;\
Common Tools|@@SUBMENU_all|182;;\
Encodings|@@SUBMENU_encodings|250;;\
SciTE Lua Tools|@@SUBMENU_luatools|265;;\
Misc Tools|@@SUBMENU_misc|285;;\
SVN|@@SUBMENU_svn|70;;\

-- 200~249 allocated for language specific user tools

-- Reload Startup script!!|scite.ReloadStartupScript|1|$(C_LUA)|toolbar==>${ICO_RELOAD};;\

##the following two features in MTeX may be implemented with simple lua scripts for all systems
##define command to generate makefile
CMD_GENMAKEFILE=$(CMD) genmakefile.btm "$(FilePath)"
##define command to compile main file
CMD_COMPILEMAIN=$(CMD) clatex.btm "$(MainFile)"


[Tools/Encoding]:: encoding related tools
SUBMENU_encodings=\
Toggle UTF8|toggle_utf8||$(C_LUA)|$(C_NOTSAVE)|usermenu==>1;;\
Show UTF8 Code|Demo_FromUTF8||$(C_LUA)|$(C_NOTSAVE);;\
AsciiTable|ascii_table||$(C_LUA)|$(C_NOTSAVE);;\
AsciiTable(wide)|ASCIITable(true)||$(C_LUA)|$(C_NOTSAVE);;\
UTF16Table|UTF16Table||$(C_LUA)|$(C_NOTSAVE);;\
GBK --> Big5|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" gbk big5 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
Big5 --> GBK|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" big5 gbk ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI --> OEM 866|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" windows-1251 cp866 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI --> KOI8-R|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" windows-1251 koi8 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI --> UTF-8|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" windows-1251 utf-8 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI --> UCS-2 Big Endian|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" windows-1251 unicodeFFFE ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI --> ISO 8859-5|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" windows-1251 ISO_8859-5 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\

ANSI <-- OEM 866|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" cp866 windows-1251 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI <-- KOI8-R|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" koi8 windows-1251 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI <-- UTF-8|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" utf-8 windows-1251 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI <-- UCS-2 Big Endian|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" unicodeFFFE windows-1251 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI <-- ISO 8859-5|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" ISO_8859-5 windows-1251 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\



[Tools/SciTE Lua Tools]:: tools writen in SciTE lua scripts
SUBMENU_luatools=\
Counting Words|word_count||$(C_LUA)|$(C_NOTSAVE);;\
Select Lua Tools|select_lua_tools||$(C_LUA)|$(C_NOTSAVE);;\
Indent Tab<-->Space|indent_tab_to_space||$(C_LUA)|$(C_NOTSAVE);;\
Clean Doc: Strip Trailing Spaces|stripTrailingSpaces||$(C_LUA)|$(C_NOTSAVE);;\
Clean Doc: Fix Indentation|fixIndentation||$(C_LUA)|$(C_NOTSAVE);;\
Clean Doc: Clean White Spaces|cleanDocWhitespace||$(C_LUA)|$(C_NOTSAVE);;\
Calculator|Calculator||$(C_LUA)|$(C_NOTSAVE);;\
HexEdit|HexEdit||$(C_LUA)|$(C_NOTSAVE);;\
ColourTest|ColourTest||$(C_LUA)|$(C_NOTSAVE);;\
Folding--ToggleOutline|toggle_outline||$(C_LUA)|$(C_NOTSAVE);;\
Folding--Rescan|process_current_file||$(C_LUA)|$(C_NOTSAVE);;\
Add Time Stamp|add_time_stamp||$(C_LUA)|$(C_NOTSAVE);;\
Ctags-FindCtag|find_ctag||$(C_LUA)|$(C_NOTSAVE);;\
Ctags-SetMark|set_mark||$(C_LUA)|$(C_NOTSAVE);;\
Ctags-GotoMark|goto_mark||$(C_LUA)|$(C_NOTSAVE);;\
Ctags-SelectMark|select_mark||$(C_LUA)|$(C_NOTSAVE);;\


[Tools/Clipboard]:: copy some properties to clipboard
SUBMENU_clipboard=\
All Text|dostring editor:CopyText(editor:GetText())||$(C_LUA)|$(C_NOTSAVE)|id==>COPY_TO_CLIPBOARD_ALL;;\
FilePath|dostring editor:CopyText(props["FilePath"])||$(C_LUA)|$(C_NOTSAVE)|id==>COPY_TO_CLIPBOARD_FULLNAME;;\
FileDir|dostring editor:CopyText(props["FileDir"])||$(C_LUA)|$(C_NOTSAVE)|id==>COPY_TO_CLIPBOARD_PATH;;\
FileName|dostring editor:CopyText(props["FileName"])||$(C_LUA)|$(C_NOTSAVE)|id==>COPY_TO_CLIPBOARD_FILENAME;;\
FileNameExt|dostring editor:CopyText(props["FileNameExt"])||$(C_LUA)|$(C_NOTSAVE)|id==>COPY_TO_CLIPBOARD_FILENAMEEXT;;\
Marked Lines|copy_marked_lines||$(C_LUA)|$(C_NOTSAVE);;\


[Tools/Insert]:: insert some useful things like DateTime, etc.
SUBMENU_insert=\
Insert SciTE property|select_properties|Ctrl+Alt+P|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1;;\
DateTime|dostring editor:AddText(os.date("%c "))||$(C_LUA)|$(C_NOTSAVE)|mode==>quiet:yes,savebefore:no;;\
Date|dostring editor:AddText(os.date("%x "))|Ctrl+Alt+D|$(C_LUA)|$(C_NOTSAVE);;\
Time|dostring editor:AddText(os.date("%X "))|Ctrl+Alt+T|$(C_LUA)|$(C_NOTSAVE);;\
File Path|dostring editor:AddText(props["FilePath"])||$(C_LUA)|$(C_NOTSAVE);;\
File Dir|dostring editor:AddText(props["FileDir"])||$(C_LUA)|$(C_NOTSAVE);;\
File NameExt|dostring editor:AddText(props["FileNameExt"])||$(C_LUA)|$(C_NOTSAVE);;\
Marked Lines|insert_marked_lines||$(C_LUA)|$(C_NOTSAVE);;\


[Tools/Misc Settings]:: toggle some settings to control some extra features
SUBMENU_settings=\
Use Tabs|toggle_use_tabs||$(C_LUA)|$(C_NOTSAVE)|id==>USE_TABS;;\
Auto Complete Braces|CheckChange AUTO_COMPLETE_BRACE||$(C_LUA)|$(C_NOTSAVE)|checked==>${AUTO_COMPLETE_BRACE};;\
Auto Complete Quotes|CheckChange AUTO_COMPLETE_QUOTE||$(C_LUA)|$(C_NOTSAVE)|checked==>${AUTO_COMPLETE_QUOTE};;\
Auto Complete LaTeX Environment|CheckChange TEX_COMPLETE_ENVIRONMENT||$(C_LUA)|$(C_NOTSAVE)|checked==>${TEX_COMPLETE_ENVIRONMENT};;\
Auto Complete ConTeXt Command \start*|CheckChange CONTEXT_COMPLETE_COMMAND||$(C_LUA)|$(C_NOTSAVE)|checked==>${CONTEXT_COMPLETE_COMMAND};;\
TeX Double $|CheckChange TEX_DOUBLE_DOLLAR||$(C_LUA)|$(C_NOTSAVE)|checked==>${TEX_DOUBLE_DOLLAR};;\
TeX Math Subscript|CheckChange TEX_SUBSCRIPT||$(C_LUA)|$(C_NOTSAVE)|checked==>${TEX_SUBSCRIPT};;\
TeX Math Superscript|CheckChange TEX_SUPERSCRIPT||$(C_LUA)|$(C_NOTSAVE)|checked==>${TEX_SUPERSCRIPT};;\
Smartly Select Block|CheckChange USING_SELECT_BLOCK||$(C_LUA)|$(C_NOTSAVE)|checked==>${USING_SELECT_BLOCK};;\
Smartly Select String|CheckChange USING_SELECT_STRING||$(C_LUA)|$(C_NOTSAVE)|checked==>${USING_SELECT_STRING};;\
Auto Substitute Words|toggle_wordsubs||$(C_LUA)|$(C_NOTSAVE)|checked==>${AUTO_WORDSUBS};;\

##not correctly implemented 
Enabling Lua Events Handlers!|toggle_events||$(C_LUA)|$(C_NOTSAVE)|checked==>${USE_EVENT_HANDLERS};;\

[Tools/Find & Search]:: useful tools to find or search, including help docs
SUBMENU_find=\
Find String/Word|FindText|Ctrl+Alt+F|$(C_LUA)|$(C_NOTSAVE)|id==>FIND_STRING_WORD;;\
Clear All Marks|ClearAllMarks|Ctrl+Alt+C|$(C_LUA)|$(C_NOTSAVE)|id==>;;\
Find matchcase|CheckChange findtext.matchcase||$(C_LUA)|$(C_NOTSAVE)|checked==>${findtext.matchcase};;\
Set Bookmarks|CheckChange findtext.bookmarks||$(C_LUA)|$(C_NOTSAVE)|checked==>${findtext.bookmarks};;\
Output Result|CheckChange findtext.output||$(C_LUA)|$(C_NOTSAVE)|checked==>${findtext.output};;\
Output Tutorial|CheckChange findtext.tutorial||$(C_LUA)|$(C_NOTSAVE)|checked==>${findtext.tutorial};;\
Search selection/functions/patterns|select_patterns|Ctrl+Alt+S|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1|separator==>1;;\
Jump to Next Occurence|find_next||$(C_LUA)|$(C_NOTSAVE)|usermenu==>1;;\
Jump to Prev Occurence|find_prev||$(C_LUA)|$(C_NOTSAVE)|usermenu==>1;;\
Grep selection in files|findstr.exe /n /c:"${CurrentSelection}" *.${FileExt}|Shift+Alt+F|$(C_CONSOLE)|$(C_AUTOSAVE)|usermenu==>1|separator==>1;;\
Grep selection in session|findstr.exe /n /c:"${CurrentSelection}" ${FILES_IN_SESSION}|Shift+Alt+S|$(C_CONSOLE)|$(C_AUTOSAVE)|usermenu==>1;;\
Search selection! (Google)|http://www.google.com/search?q=${CurrentSelection}|Ctrl+Alt+F1|2|2|usermenu==>1|toolbar==>${ICO_GOOGLE};;\
Search Online|select_websites|Ctrl+F1|$(C_LUA)|$(C_NOTSAVE);;\
Select help files|select_helpfiles|Shift+F1|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1;;\
Expand Selection via Folding|select_block||$(C_LUA)|$(C_NOTSAVE)|id==>SELECTBLOCK;;\

-- FindSelection|find_selection||$(C_LUA)|$(C_NOTSAVE);;\
-- Grep selection in files|grep.exe -n "${CurrentSelection}" *.${FileExt}|Shift+Alt+F|$(C_CONSOLE)|$(C_AUTOSAVE)|usermenu==>1;;\
-- ListAllOccuraces|SciteListAllOccurances||$(C_LUA)|$(C_NOTSAVE);;\
-- MarkOccurrences|markOccurrences||$(C_LUA)|$(C_NOTSAVE);;\


[Tools/Move Lines]:: move selected lines
SUBMENU_move_lines=\
Upwards|move_up|Alt+Up|$(C_LUA)|$(C_NOTSAVE);;\
Downwards|move_down|Alt+Down|$(C_LUA)|$(C_NOTSAVE);;\
Leftwards|move_left|Alt+Left|$(C_LUA)|$(C_NOTSAVE);;\
Rightwards|move_right|Alt+Right|$(C_LUA)|$(C_NOTSAVE);;\


[Tools/From Selection]:: useful operations on selected text
SUBMENU_from_sel=\
Quote selection|select_quotes|Ctrl+Alt+Q|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1;;\
Calculation/Open URL|calc_url||$(C_LUA)|$(C_NOTSAVE);;\
Edit Color Value|colour_set||$(C_LUA)|$(C_NOTSAVE);;\
Print ASCII Codes|ascii_print||$(C_LUA)|$(C_NOTSAVE);;\
ToggleCase|text_toggle_case||$(C_LUA)|$(C_NOTSAVE);;\
StripWhiteLines|stripWhiteLines||$(C_LUA)|$(C_NOTSAVE);;\
HexifySelection|HexifySelection||$(C_LUA)|$(C_NOTSAVE);;\
Sort Selection|sort_text||$(C_LUA)|$(C_NOTSAVE);;\
Sort Selection Reverse|sort_text_reverse||$(C_LUA)|$(C_NOTSAVE);;\
Registry Jump|wscript "${SciteDefaultHome}\tools\RegJump.js"||$(C_SHELLEXEC)|$(C_NOTSAVE)|input==>${CurrentSelection};;\
Selected text -> In a new file|text_to_newbuf||$(C_LUA)|$(C_NOTSAVE)|id==>TEXT_IN_NEW_FILE;;\

-- Add to Abbreviation|make_abbr||$(C_LUA)|$(C_NOTSAVE);;\


[Tools/Open Files]:: open some useful files
SUBMENU_openfiles=\
Select help files|select_helpfiles|Shift+F1|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1;;\
Open Selected Filename|Open_Selected_Filename||$(C_LUA)|$(C_NOTSAVE);;\
Open Makefile|dostring scite.Open("Makefile")||$(C_LUA)|$(C_NOTSAVE);;\
Open API File|open_apifile||$(C_LUA)|$(C_NOTSAVE)|id==>OPENAPIFILE;;\
Open Abbreviation File|open_abbrfile||$(C_LUA)|$(C_NOTSAVE);;\
Dir Files Info| dir ${FileName}.*|Alt+F11|$(C_CONSOLE)|$(C_NOTSAVE);;\
List Related Files|list_relatedfiles|Ctrl+Alt+R|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1;;\
Open related files|select_relatedfiles|Shift+F9|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1;;\
Open configuration scripts|select_configfiles|Ctrl+F9|$(C_LUA)|$(C_NOTSAVE);;\
Explorer|explorer.exe /select,"${FilePath}"|Ctrl+Alt+E|$(C_SHELLEXEC)|$(C_NOTSAVE)|toolbar==>${ICO_EXPLORER}|usermenu==>1;;\

Open menu configuration|edit_menucmds|Ctrl+Alt+M|$(C_LUA)|$(C_NOTSAVE);;\

[Tools/Spell Checking]:: external and internal spell checking tools 
SUBMENU_spell_checking=\
Spell Checker (Spell)|${CMD_SPELL_CHECK}|Alt+F2|$(C_SHELLEXEC)|$(C_AUTOSAVE)|toolbar==>${ICO_SPELLING}|usermenu==>1;;\
Spell Checker Selection (Spell)|SpellCheckerSel||$(C_LUA)|$(C_NOTSAVE);;\
Spell Checker Online|http://orangoo.com/spell/||$(C_SHELLEXEC)|$(C_NOTSAVE);;\
Auto Mini_Spell_Checking|ToggleSpellChecking||$(C_LUA)|$(C_NOTSAVE)|checked==>${my.spell.checking}|separator==>1;;\
Clear Mini_Spell_Checking Marks|ClearErrorMarks||$(C_LUA)|$(C_NOTSAVE);;\
Mini_Spell_Checking Current Word|dostring CheckCurWord(false,true)||$(C_LUA)|$(C_NOTSAVE)|id==>CHECK_CURWORD;;\
Mini_Spell_Checking Selection|CheckSelection||$(C_LUA)|$(C_NOTSAVE);;\

CMD_SPELL_CHECK=$(ASPELL)\aspell $(ASPELL.OPTS) "${FilePath}"
if USE_MTEX
	CMD_SPELL_CHECK=$(CMD4NT) /c spell.btm "${FilePath}"

[Tools/Common Tools]:: some useful tools provided in MTeX
SUBMENU_all=\
Utils Manager (UtilsMan)|${MTEX}\bin\UtilsMan.exe "${FilePath}"|Alt+F1|$(C_SHELLEXEC)|toolbar==>${ICO_UTILSMAN}|id==>UTILSMAN;;\
DOS Command Prompt (TEX-DOS)|${COMSPEC} cd /d "${FileDir}"|Alt+F3|$(C_SHELLEXEC)|$(C_NOTSAVE)|toolbar==>${ICO_DOS}|usermenu==>1|id==>TEXDOS;;\
Prompt and Run Command (Run)|*$(1)$(2)$(3)$(4)|Alt+F5|$(C_CONSOLE)|$(C_AUTOSAVE);;\
Run user command with args|*${CMD} ${CMDCHDIR} $(1)$(2)$(3)$(4) ${CMDPAUSE}|Alt+F6|$(C_SHELLEXEC);;\
Open with Windows|"${FilePath}"|Alt+F7|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>OPENWIN;;\
Metapath File Explorer|${CMD_METAPATH}||$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>OPENWIN;;\
Templates and Symbols (TMac)|${CMD_TMAC}|Alt+F8|$(C_SHELLEXEC)|$(C_NOTSAVE)|toolbar==>${ICO_TMAC}|id==>TMAC;;\
Picture Utils (PicUtil)|${CMD_PICUTIL}|Alt+F9|$(C_WINDOWS)|$(C_NOTSAVE)|toolbar==>${ICO_PICUTIL}|id==>PICUTIL;;\
MTeX Main Menu (Main)| main|Alt+F10|$(C_SHELLEXEC)|$(C_NOTSAVE)|usermenu==>1|id==>MAINMENU;;\
Select Clip Text|select_clipfiles||$(C_LUA)|$(C_NOTSAVE);;\
Select Document Templates|select_templates|Ctrl+Alt+N|$(C_LUA)|$(C_NOTSAVE);;\
Project Manager|proj_man||$(C_LUA)|$(C_NOTSAVE);;\

--Run user command with args|*run_usercmd("$1$2$3$4")|Alt+F6|0;;\

CMD_TMAC=$(TMAC)\tmac.exe sc1.exe
CMD_METAPATH=$(METAPATH)\metapath.exe
CMD_PICUTIL=$(TPX)\tpx.exe 
if USE_MTEX
	CMD_PICUTIL=$(CMD) picutil

[Tools/Debugger]:: useful  unified debugger for C/C++/C#/Java/Pascal/Lua (need gdb/mdb/jdb/lua)

SUBMENU_debug=\
Run/Go|do_run|Alt+R|$(C_LUA)|$(C_AUTOSAVE)|id==>DEBUG_RUN;;\
Make Console Window On Top|${CMD_WIN_ON_TOP}||$(C_CONSOLE)|$(C_NOTSAVE);;\
Breakpoint|do_breakpoint|F9|$(C_LUA)|$(C_AUTOSAVE)|id==>DEBUG_BREAKPOINT;;\
Step In|do_step|Alt+C|$(C_LUA)|$(C_AUTOSAVE)|id==>DEBUG_STEPIN;;\
Step Over|do_next|Alt+N|$(C_LUA)|$(C_AUTOSAVE)|id==>DEBUG_STEPOUT;;\
To Cursor|do_temp_breakpoint|Alt+G|$(C_LUA)|$(C_AUTOSAVE)|id==>DEBUG_TOCURSOR;;\
Stop|do_kill|Alt+K|$(C_LUA)|$(C_AUTOSAVE)|id==>DEBUG_STOP;;\
Inspect|do_inspect|Alt+I|$(C_LUA)|$(C_AUTOSAVE);;\
Locals|do_locals|Alt+Ctrl+L|$(C_LUA)|$(C_AUTOSAVE);;\
Watch|do_watch|Alt+W|$(C_LUA)|$(C_AUTOSAVE);;\
Backtrace|do_backtrace|Alt+Ctrl+B|$(C_LUA)|$(C_AUTOSAVE);;\
Step Out|do_finish|Alt+M|$(C_LUA)|$(C_AUTOSAVE);;\
Do Up|do_up|Alt+U|$(C_LUA)|$(C_AUTOSAVE);;\
Do Down|do_down|Alt+D|$(C_LUA)|$(C_AUTOSAVE);;\

## [mhb] enhanced the debugger by the following command so as to make the debug window stay on top 
CMD_WIN_ON_TOP="$(SciteDefaultHome)\nircmdc.exe" win settopmost ititle "$(FileName).exe" 1


[Tools/View Misc]:: misc tools related with viewing or files
SUBMENU_misc=\
Open current buffer in new window|${CMD_CLONE_WIN}||$(C_SHELLEXEC)|$(C_NOTSAVE)|id==>OPEN_BUFFER_IN_NEW_WINDOW;;\
Rename current file|myrename||$(C_LUA)|$(C_NOTSAVE)|id==>RENAME_CURRENT_FILE;;\
Close All but Current|close_all_but_current||$(C_LUA)|$(C_NOTSAVE)|id==>CLOSE_ALL_BUT_CURRENT;;\
Magnify Text Size|dostring editor:ZoomIn||$(C_LUA)|$(C_NOTSAVE)|id==>TEXT_SIZE_MAGNIFY;;\
Reduce Text Size|dostring editor:ZoomOut||$(C_LUA)|$(C_NOTSAVE)|id==>TEXT_SIZE_REDUCE;;\
Restore to Normal|dostring editor.Zoom = 0||$(C_LUA)|$(C_NOTSAVE)|id==>TEXT_SIZE_NORMAL;;\
Put Window Left Side|${CMD_PUT_WIN_LEFT}||$(C_CONSOLE)|$(C_NOTSAVE)|id==>PUT_WIN_LEFT;;\
Put Window Right Side|${CMD_PUT_WIN_RIGHT}||$(C_CONSOLE)|$(C_NOTSAVE)|id==>PUT_WIN_RIGHT;;\
SideBar|SideBar_ShowHide||$(C_LUA)|$(C_NOTSAVE)|checked==>${sidebar.show}|id==>SIDEBAR;;\
Toggle Ebook View|view_ebook||$(C_LUA)|$(C_NOTSAVE)|checked==>${ebook.view}|id==>VIEW_EBOOK;;\
MyToolbar (General)|MyToolbarAll_ShowHide||$(C_LUA)|$(C_NOTSAVE)|checked==>${MYTOOLBAR_ALL}|id==>MYTOOLBAR_ALL;;\
MyToolbar (Debug)|MyToolbar_ShowHide||$(C_LUA)|$(C_NOTSAVE)|checked==>$(MYTOOLBAR_${FileType})|id==>MYTOOLBAR_DEBUG;;\

## define command to use in menu "Open Current Buffer in New Window"
CMD_CLONE_WIN=$(SciteDefaultHome)\sc1.exe -check.if.already.open=0 -save.session=0 "$(FilePath)" -goto:$(SelectionStartLine),$(SelectionStartColumn)

## define commands for "Put Window on Left/Right", useful for comparing two files on screen
WIN_WIDTH=512
WIN_HEIGHT=768
CMD_PUT_WIN_LEFT=cmd.exe /c nircmdc.exe win setsize foreground 0 0 $(WIN_WIDTH) $(WIN_HEIGHT)
CMD_PUT_WIN_RIGHT=cmd.exe /c nircmdc.exe win setsize foreground $(WIN_WIDTH) 0 $(WIN_WIDTH) $(WIN_HEIGHT)

if USE_MTEX
	WIN_WIDTH=%@eval[%_xpixels/2]
	WIN_HEIGHT=%_ypixels
	CMD_PUT_WIN_LEFT=4nt.exe /c nircmdc.exe win setsize foreground 0 0 $(WIN_WIDTH) $(WIN_HEIGHT)
	CMD_PUT_WIN_RIGHT=4nt.exe /c nircmdc.exe win setsize foreground $(WIN_WIDTH) 0 $(WIN_WIDTH) $(WIN_HEIGHT)


[Tools/SVN]:: subversion tools
SUBMENU_svn=\
Update File|${CMD_SVN_UPDATE}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Commit File|${CMD_SVN_COMMIT}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Revert File|${CMD_SVN_REVERT}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Diff File|${CMD_SVN_UPDATE}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Add File|${CMD_SVN_ADD}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Show File Log|${CMD_SVN_LOG}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Update All|${CMD_SVN_UPDATE_ALL}||${C_SHELLEXEC}|${C_AUTOSAVE}|separator==>1;;\
Commit All|${CMD_SVN_COMMIT_ALL}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Show Log for All|${CMD_SVN_LOG_ALL}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Update Branch|${CMD_SVN_UPDATE_BRANCH}||${C_SHELLEXEC}|${C_AUTOSAVE}|separator==>1;;\
Commit Branch|${CMD_SVN_COMMIT_BRANCH}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Show Log for Branch|${CMD_SVN_LOG_BRANCH}||${C_SHELLEXEC}|${C_AUTOSAVE};;\

CMD_SVN="${SVN}\${SVN_EXE}" ${SVN.OPTS}
CMD_SVN_UPDATE=${CMD_SVN} update "${FilePath}"
CMD_SVN_COMMIT=${CMD_SVN} commit "${FilePath}"
CMD_SVN_REVERT=${CMD_SVN} revert "${FilePath}"
CMD_SVN_ADD=${CMD_SVN} add "${FilePath}"
CMD_SVN_DIFF=${CMD_SVN} diff "${FilePath}"
CMD_SVN_LOG=${CMD_SVN} log "${FilePath}"
CMD_SVN_UPDATE_BRANCH=${CMD_SVN} update "${SVN_Branch}"
CMD_SVN_COMMIT_BRANCH=${CMD_SVN} commit "${SVN_Branch}"
CMD_SVN_LOG_BRANCH=${CMD_SVN} log "${SVN_Branch}"
CMD_SVN_UPDATE_ALL=${CMD_SVN} update "${SVN_Root}"
CMD_SVN_COMMIT_ALL=${CMD_SVN} commit "${SVN_Root}"
CMD_SVN_LOG_ALL=${CMD_SVN} log "${SVN_Root}"


[Tools Menu for tex files]:: define tools for all TeX systems plus unique tools in MTeX and MiCTeX

MENU_tex=$(MENU_latex)

MENU_latex=\
Simple Smart TeXing (for any system)|smart_tex|Ctrl+1|$(C_LUA)|$(C_AUTOSAVE)|id==>SMARTTEX;;\
Simple Smart TeXing Once (for any system)|smart_tex_once|1|$(C_LUA)|$(C_AUTOSAVE)|id==>SMARTTEX1;;\
Preview dvi|${CMD_DVIVIEW}|1|$(C_SHELLEXEC)|$(C_NOTSAVE)|id==>DVIVIEW;;\
Preview ps|${CMD_PSVIEW}|1|$(C_SHELLEXEC)|$(C_NOTSAVE)|id==>PSVIEW;;\
Preview Pdf|${CMD_PDFVIEW}|1|$(C_SHELLEXEC)|$(C_NOTSAVE)|id==>PDFVIEW;;\
Dvi Forward Search|${CMD_DVIFIND}|1|$(C_SHELLEXEC)|$(C_NOTSAVE)|id==>DVIFIND;;\
Pdf Forward Search|${CMD_PDFFIND}|1|$(C_SHELLEXEC)|$(C_NOTSAVE)|id==>PDFFIND;;\
Clean Temporary Files|${CMD_CLEAN_TMP}|Ctrl+Delete|id==>CLEANTMP;;\
Compile Selected Block|compile_tex_block|Ctrl+Alt+Enter|$(C_LUA)|id==>COMPILEBLOCK;;\
LaTeX|@@SUBMENU_latex|20;;\
$(SPECIFIC_SUBMENU);;\
Misc TeX Tools|@@SUBMENU_tex_misc|225;;\
LaTeX Tools (lua)|@@SUBMENU_latex_tools|240;;\

## since MTeX and MicTeX provides similar smart texing, we only allow to use one group so as to avoid shortcut conflicts
SPECIFIC_SUBMENU=MiCTeX Specific|@@SUBMENU_mictex_main|210
if USE_MTEX
	SPECIFIC_SUBMENU=MTeX Specific|@@SUBMENU_mtex_main|200

# Smart Preview|tex_smart_preview|0|$(C_LUA)|$(C_AUTOSAVE);;\
## tex_smart_compile() and tex_smart_preview() are lua functions to be implemented soon, not depending TeX systems

SUBMENU_latex=\
latex only!|${CMD} latex $(LATEX1.OPTS) "${FilePath}"|Shift+Alt+1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>LATEX1;;\
pdflatex only!|${CMD} pdflatex $(PDFLATEX1.OPTS) "${FilePath}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>PDFLATEX1;;\
tex only!|${CMD} tex $(TEX1.OPTS) "${FilePath}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>TEX1;;\
BibTeX|${CMD} bibtex "${FileNameExt}"|1|id==>BIBTEX;;\
Makeindex|${CMD} makeindex "${FileNameExt}"|1|id==>MAKEINDEX;;\
Gbk2Uni|${CMD} gbk2uni -u "${FileName}.out"|1|id==>GBK2UNI;;\
Dvi->Ps|${CMD} dvips "${FileName}.dvi" -o "${FileName}.ps"|1|$(C_CONSOLE)|id==>DVIPS;;\
Dvi->Pdf|${CMD} dvipdfm "${FileName}.dvi"|1|$(C_CONSOLE)|id==>DVIPDFM;;\
Ps->Pdf|${CMD} ps2pdf "${FileName}.ps" "${FileName}.pdf"|1|$(C_CONSOLE)|id==>PS2PDF;;\

##define command to clean temporary files
CMD_CLEAN_TMP="$(SciteDefaultHome)\clean_tmp.bat" $(FileName)

##define preview commands for dvi,ps,pdf files and misc conversion commands
CMD_DVIVIEW=yap -1 "$(FileDir)\$(FileName).dvi"
CMD_DVIFIND=yap -1 -s "$(SelectionStartLine) $(FileNameExt)"  "$(FileDir)\$(FileName).dvi"
CMD_PDFVIEW="$(FileDir)\$(FileName).pdf"
CMD_PDFFIND="$(SUMATRAPDF)\sumatrapdf.exe" -reuse-instance -inverse-search "Sc1.exe -open \"%f\" -goto:%l" "$(FileDir)\$(FileName).pdf"
CMD_EPSVIEW="$(GSVIEW)\gsview32" "$(FileDir)\$(FileName).eps"
CMD_PSVIEW="$(GSVIEW)\gsview32" "$(FileDir)\$(FileName).ps"

if USE_MTEX
	CMD_DVIVIEW=$(CMD) dviview "$(FileDir)\$(FileName).dvi"
	CMD_DVIFIND=$(CMD) dviview -s "$(SelectionStartLine) $(FileNameExt)" "$(FileName).dvi"
	CMD_PDFVIEW=$(CMD) pdfview "$(FileDir)\$(FileName).pdf"
	CMD_PDFFIND=$(CMD) pdfview-s "$(FileDir)\$(FileName).pdf" $(SelectionStartLine)
	CMD_EPSVIEW=$(CMD) psview "$(FileDir)\$(FileName).eps"
	CMD_PSVIEW=$(CMD) psview "$(FileDir)\$(FileName).ps"


[Tools Menu for tex files/LaTeX Tools]: some lua tools for LaTeX files
SUBMENU_latex_tools=\
Check Refs or Bibs|Check_RefBib||$(C_LUA)|1;;\
List Headers|dostring list_headers(true)||$(C_LUA)|1;;\
List Figures|dostring list_figures(true)||$(C_LUA)|1;;\
List Tables|dostring list_tables(true)||$(C_LUA)|1;;\
List Packages|dostring list_packages(true)||$(C_LUA)|1;;\
List Fonts|dostring list_fonts(true)||$(C_LUA)|1;;\
List Labels|dostring list_labels(true)||$(C_LUA)|1;;\
List Index Commands|dostring list_indexs(true)||$(C_LUA)|1;;\
Strip TeX Comments|strip_comments||$(C_LUA);;\

-- Show All Bibitems|show_all_bibitems||$(C_LUA)|1;;\
-- CheckRefList|CheckRefList||$(C_LUA)|$(C_NOTSAVE);;\
-- package_list|package_list||$(C_LUA)|$(C_NOTSAVE);;\
-- show_subfile_list|show_subfile_list||$(C_LUA)|$(C_NOTSAVE);;\
-- show_tex_argumentlist|show_tex_argumentlist||$(C_LUA)|$(C_NOTSAVE);;\
-- Open_subfiles|Open_subfiles||$(C_LUA)|$(C_NOTSAVE);;\
-- show_bibfile_list|show_bibfile_list||$(C_LUA)|$(C_NOTSAVE);;\

[Tools Menu for tex files/MTeX Specific]:: compiling tex files with clatex.btm, only for MTeX
SUBMENU_mtex_main=\
Set CLatex Options|${CMD4NT} /c setclatex "${FilePath}"|Ctrl+Alt+0|$(C_SHELLEXEC)|id==>SETCLATEX;;\
Smart CLatex (dvi+ps+pdf)|${CMD4NT} /c clatex -all "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>CLATEX;;\
PLatex Typesetting (dvi)|${CMD4NT} /c clatex -platex "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>PLATEX;;\
PdfLatex Typesetting (pdf)|${CMD4NT} /c clatex -pdflatex "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>PDFLATEX;;\
Smart CLatex (dvi+ps+pdf) Once!|${CMD4NT} /c clatex -1 -all "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>CLATEXONCE;;\
PLatex Typesetting (dvi) Once!|${CMD4NT} /c clatex -1 -platex "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>PLATEXONCE;;\
PdfLatex Typesetting (pdf) Once!|${CMD4NT} /c clatex -1 -pdflatex "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>PDFLATEXONCE;;\


[Tools Menu for tex files/MiCTeX Specific]:: compiling tex files with SmartTeXer, for MiCTeX
SUBMENU_mictex_main=\
DVI Once|${SMARTTEXER_EXE} -once -source="${FileNameExt}"|Ctrl+Alt+1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>DVIONCE;;\
DVI Full|${SMARTTEXER_EXE} -nonstopmode -source="${FileNameExt}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>DVIFULL;;\
PDF Once|${SMARTTEXER_EXE} -once -pdf -synctex -source="${FileNameExt}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>PDFONCE;;\
PDF Full|${SMARTTEXER_EXE} -nonstopmode -pdf -synctex -view -source="${FileNameExt}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>PDFFULL;;\
PS Once|${SMARTTEXER_EXE} -once -dvips -source="${FileNameExt}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>PSONCE;;\
PS Full|${SMARTTEXER_EXE} -dvips -view -source="${FileNameExt}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>PSFULL;;\
Make html|${SMARTTEXER_EXE} -html -nonstopmode -view -source="${FileNameExt}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>HTMFULL;;\
Update MiKTeX|${CMD_MIKUPD}||${C_SHELLEXEC}|$(C_NOTSAVE)|id==>MIKUPD;;\
Browse Packages|${CMD_MIKPKG}||${C_SHELLEXEC}|$(C_NOTSAVE)|id==>MIKPKG;;\
MiKTeX Settings|${CMD_MIKOPT}||${C_SHELLEXEC}|$(C_NOTSAVE)|id==>MIKOPT;;\

## define SMARTTEXER and MIKTEXBIN in myutils.properties
CMD_MIKUPD=$(MIKTEXBIN)\texhash.exe
CMD_MIKPKG=$(MIKTEXBIN)\mpm.exe
CMD_MIKOPT=$(MIKTEXBIN)\mo.exe

[Tools Menu for tex files/Misc TeX Tools]:: extra tools in MTeX/MicTeX, some only available in MTeX
SUBMENU_tex_misc=\
PdfFrag Preprocesor|${CMD_PDFFRAG}||$(C_CONSOLE)|id==>PDFFRAG;;\
PPower Postprocessor|${CMD_PPOWER} ||$(C_CONSOLE)|id==>PPOWER;;\
Equation Editor (TeXaide)|${CMD_EQNEDT}||$(C_SHELLEXEC)|id==>TEXAIDE;;\
TeX Bitmap Tool (TeX-Bmp)|${CMD_TEXBMP}||$(C_SHELLEXEC)|id==>TEXBMP;;\
LaTeX->html|${CMD_TEX2HTM}||$(C_WINDOWS)|$(C_NOTSAVE)|id==>TEX2HTM;;\
LaTeX->RTF|${CMD_TEX2WORD}||$(C_WINDOWS)|$(C_NOTSAVE)|id==>TEX2WORD|;;\
Preview html|${CMD_VIEWHTM}||id==>HTMVIEW;;\
Preview rtf|${CMD_VIEWRTF}||id==>RTFVIEW;;\
Bib Tool (JabRef)|${CMD_BIB}||id==>BIB;;\
Extract Bib-info (BibX)|${CMD_BIBX}||$(C_SHELLEXEC)|id==>BIBX;;\
BibEdit|${CMD_BIBEDIT}|${CMD_BIBEDIT}||$(C_SHELLEXEC)|id==>BIBEDIT;;\
Un-BibEdit (Restore Chinese Chars)|un_bibedit||$(C_LUA)|$(C_NOTSAVE)|id==>UNBIB;;\
Online Equation Editor|${CMD_WEBEQN}|Shift+Alt+E|$(C_SHELLEXEC)|id==>WEBEQN;;\

CMD_BIB=$(CMD) start "" "$(JABREF)\jabref.jar"
CMD_BIBX=$(BIBX)\bibx.exe
CMD_VIEWHTM=$(CMD) "$(SciteDefaultHome)\preview.bat" "$(FileName)" htm
CMD_VIEWRTF=$(CMD) "$(SciteDefaultHome)\preview.bat" "$(FileName)" rtf
CMD_WEBEQN=http://thornahawk.unitedti.org/equationeditor/equationeditor.php
CMD_EQNEDIT=$(TEXAIDE)\texaide.exe
CMD_BIBEDIT=$(BIBEDIT)\bibedit.exe
CMD_PDFFRAG=$(CMDUTIL) pdffragger "$(FileNameExt)"
CMD_PPOWER=$(CMD) java.exe -jar "$(PPOWER)\ppower4.jar" "$(FileName).pdf"
CMD_TEX2HTM=$(SMARTTEXER_EXE) -html -nonstopmode -view -source="$(FileNameExt)"
CMD_TEX2WORD=$(LATEX2RTF)\latex2rt.exe -P "$(LATEX2RTF)" "$(FileNameExt)"
#~ CMD_TEXBMP=$(CMDUTIL) aurora
CMD_TEXBMP=$(TEXBMP)\tex-bmp.exe

--http://www.numberempire.com/texequationeditor/equationeditor.php
--http://www.sitmo.com/latex/
--http://www.hamline.edu/~arundquist/equationeditor/
--http://www.codecogs.com/components/equationeditor/equationeditor.php

if USE_MTEX
	CMD_PDFFRAG=$(CMD) pdffrag "$(FileNameExt)" 
	CMD_PPOWER=$(CMD) ppower "$(FileName).pdf"
	CMD_TEX2HTM=$(CMD) l2h "$(FilePath)" 
	CMD_TEX2WORD=$(CMD) l2w "$(FilePath)" 
	CMD_EQNEDIT=$(CMDUTIL) texaide
	CMD_TEXBMP=$(MTEX)\bin\tex-bmp.exe
	# CMD_VIEWHTM=$(CMD) preview.btm "$(FileName)*.htm*"
	# CMD_VIEWRTF=$(CMD) preview.btm "$(FileName)*.rtf"
	


[Tools Menu for bib files]:: define tools for bib files
MENU_bib=\
BibEdit|${CMD_BIBEDIT}|Ctrl+1|$(C_SHELLEXEC);;\
UnBibEdit (Restore Chinese Chars)|${CMD_UNBIB}|1;;\
BibDb (DOS)|${CMD_BIBDB}|1;;\
WBibDb (Windows)|${CMD_WBIBDB}|1;;\
JabRef|${CMD_JABREF}|1;;\
BibUs|${CMD_BIBUS}|1;;\
EndNote|${CMD_ENDNOTE}|1;;\
NoteExpress|${CMD_NOTEEXPRESS}|1;;\
Biblioscape|${CMD_BIBLIOSCAPE}|1;;\
Jumper Networks|http://www.jumpernetworks.com/|1;;\
Elsevier 2Collab|https://www.2collab.com/login|1|$(C_SHELLEXEC);;\


[Tools Menu for metapost files]:: define tools for metapost files
MENU_metapost=\
Compile+Preview (PS)|${CMD_MPVIEW_PS}|Ctrl+1|toolbar==>${ICO_PS_GO};;\
Compile+Preview (PDF)|${CMD_MPVIEW_PDF}|1|toolbar==>${ICO_PDF_GO};;\
Compile only|${CMD_MPOST}|1;;\
Mp2eps+Preview|$(CMD_MP2EPS_VIEW)|1;;\
Mp2eps only|$(CMD_MP2EPS)|1|toolbar==>${ICO_TO_EPS};;\
Mp2pdf+Preview|$(CMD_MP2PDF_VIEW)|1;;\
Mp2pdf only|$(CMD_MP2PDF)|1|toolbar==>${ICO_TO_PDF};;\
Preview EPS| preview "${FileName}*.eps"|1|toolbar==>${ICO_EPS_VIEW};;\
Preview PDF| preview "${FileName}*.pdf"|1|toolbar==>${ICO_PDF_VIEW}

CMD_MPOST=$(CMD) mpost "$(FileNameExt)"
CMD_MP2EPS=$(CMD) mp2eps "$(FileNameExt)"
CMD_MP2PDF=$(CMD) mp2pdf "$(FileNameExt)"
CMD_MP2EPS_VIEW=$(CMD) mp2eps -view "$(FileNameExt)"
CMD_MP2PDF_VIEW=$(CMD) mp2pdf -view "$(FileNameExt)"
CMD_MPVIEW_PS=$(CMD) mpview "$(FileNameExt)
CMD_MPVIEW_PDF=$(CMD) mpview -pdf "$(FileNameExt)

if USE_MTEX
	CMD_MP2EPS=$(CMD) mp2eps "$(FileNameExt)"
	CMD_MP2PDF=$(CMD) mp2pdf "$(FileNameExt)"
	CMD_MP2EPS_VIEW=$(CMD) mp2eps -view "$(FileNameExt)"
	CMD_MP2PDF_VIEW=$(CMD) mp2pdf -view "$(FileNameExt)"
	CMD_MPVIEW_PS=$(CMD) mproof -ps "$(FileNameExt)
	CMD_MPVIEW_PDF=$(CMD) mproof -pdf "$(FileNameExt)



[Tools Menu for asymptote files]:: define tools for asy files
MENU_asy=\
asy2eps|${CMD_ASY2EPS}|Ctrl+1|$(C_CONSOLE)|$(C_AUTOSAVE)|toolbar==>${ICO_EPS_GO};;\
asy2pdf|${CMD_ASY2PDF}|1|$(C_CONSOLE)|$(C_AUTOSAVE)|toolbar==>${ICO_PDF_GO};;\
asy2pdf (prc)|${CMD_ASY2PRC}|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|toolbar==>${ICO_PDF_GO};;\
Preview EPS|${CMD_EPSVIEW}|1|toolbar==>${ICO_EPS_VIEW};;\
Preview PDF|${CMD_PDFVIEW}|1|toolbar==>${ICO_PDF_VIEW}

ASY.OPTS=-vv
CMD_ASY2EPS=$(CMDUTIL) asy $(ASY.OPTS) -f eps "$(FileNameExt)"
CMD_ASY2PDF=$(CMDUTIL) asy $(ASY.OPTS) -f pdf "$(FileNameExt)"
CMD_ASY2PRC=$(CMDUTIL) asy $(ASY.OPTS) -batchView -V -prc -f pdf "$(FileNameExt)"

[Tools Menu for tpx files]:: define tools for tpx files
MENU_tpx=\
Open with TpX| tpx "${FileNameExt}"|Ctrl+1;;\
TpX-->EPS+Preview| tpx2eps -view "${FileNameExt}"|1|toolbar==>${ICO_EPS_GO};;\
TpX-->PDF+Preview| tpx2pdf -view "${FileNameExt}"|1|toolbar==>${ICO_PDF_GO};;\
Preview EPS|${CMD_EPSVIEW}"|1|toolbar==>${ICO_EPS_VIEW};;\
Preview PDF|${CMD_PDFVIEW}|1|toolbar==>${ICO_PDF_VIEW};;\
TpX-->Metapost| tpx "${FileNameExt}" -x Metapost|1;;\
Mp2eps+Preview| mp2eps -view  "${FileName}-export.mp"|1;;\
TpX-->Jpg+Preview| tpx2jpg -view "${FileNameExt}"|1


[Tools Menu for gnuplot files]:: define tools for gnuplot files
MENU_gnuplot=\
View with gnuplot!| gnuplot "${FileNameExt}"|Ctrl+1;;\
Gnuplot help!|${CMDUTIL} :gnuplot wgnuplot.hlp "${FileNameExt}"|1;;\


[Tools Menu for matlab files]:: define tools for matlab files or matlab-clone
MENU_matlab=\
Run with Matlab!| start ${MATLAB}\matlab.exe ${MATLAB.OPTS} -r ${FileName}||1|$(C_WINDOWS);;\
Run with Scilab!|${SCILAB}\scilab.exe ${SCILAB.OPTS} "${FilePath}"||$(C_SHELLEXEC)|$(C_AUTOSAVE);;\
Run with Octave!|${OCTAVE}\octave.exe ${OCTAVE.OPTS} "${FilePath}"||$(C_SHELLEXEC)|$(C_AUTOSAVE);;\
Run with Mlab!|${MLAB}\mlab.exe ${MLAB.OPTS} "${FilePath}"||$(C_SHELLEXEC)|$(C_AUTOSAVE);;\


[Tools Menu for lout files]:: define tools for lout files
MENU_lout=\
lout2ps+Preview| lout "${FileNameExt}" -o "${FileName}.ps"|Ctrl+1|toolbar==>${ICO_PS_GO};;\
lout2pdf+Preview| lout -Z "${FileNameExt}" -o "${FileName}.pdf"|1|toolbar==>${ICO_PDF_GO};;\
Preview PS|${CMD_PSVIEW}|1|toolbar==>${ICO_PS_VIEW};;\
Preview PDF|${CMD_PDFVIEW}|1|toolbar==>${ICO_PDF_VIEW};;\
Ps->Pdf| ps2pdf "${FileName}.ps" "${FileName}.pdf"|$(C_CONSOLE)|id==>PS2PDF;;\


[Tools Menu for lua files]:: define tools for lua files
SUBMENU_lua=\
Run me (LuaWin)!|${CMDUTIL} luawin "${FileNameExt}"|Ctrl+Alt+1|$(C_SHELLEXEC);;\
Run me (MurgaLua)!|${CMDUTIL} murgalua "${FileNameExt}"|1|$(C_CONSOLE);;\
Run me (TexLua)!|${CMDUTIL} :luatex texlua "${FileNameExt}"|1|$(C_CONSOLE);;\
Run me (LuaAllInOne)!|${CMDUTIL} luaaio "${FileNameExt}"|1|$(C_CONSOLE);;\

MENU_lua=\
Run me!|run_me|Ctrl+1|$(C_LUA);;\
Run selection!|run_selection|1|$(C_LUA);;\
Eval selection!|eval_selection|1|$(C_LUA);;\
Reload current script!|reload_script|1|$(C_LUA);;\
Eval selected property!|eval_sel_property|1|$(C_LUA);;\
Run me (Lua4NT)!| plugin /L lua4nt.dll && ilua "${FileNameExt}"|1|$(C_CONSOLE);;\
Run me (Lua)!|${LUA_EXE} "${FileNameExt}"|1|$(C_CONSOLE);;\
Compile to chunk!|${LUAC_EXE} -o "${FileName}.luac" "${FileNameExt}"|1|$(C_CONSOLE);;\
Lua Interpretors|@@SUBMENU_lua|200;;\
Lua Debugger|@@SUBMENU_debug|230;;\


[Tools Menu for idle files]:: define tools for idle files
MENU_idle=\
Run me (GUI)!|${IDLE}\idlew.exe "${FileNameExt}"|Ctrl+1;;\
Run me (Console)!|${IDLE}\idle.exe "${FileNameExt}"|1;;\
Compile to exe (GUI)!|${IDLE}\idlec.exe -w -x ${FileName} "${FileNameExt}"|1;;\
Compile to exe (Console)!|${IDLE}\idlec.exe -x ${FileName} "${FileNameExt}"|1;;\


[Tools Menu for batch files]:: define tools for batch files
MENU_batch=\
Run me (4NT)!| "${FileNameExt}"|Ctrl+1;;\
Run me (CMD)!|cmd.exe /c "${FileNameExt}"|1;;\
Run me (Command)!|command.com /c "${FileNameExt}"|1;;\


[Tools Menu for props files]:: define tools for props files (ini, reg, properties)
MENU_props=\
Encode selected text to abrr!|latex_abbrev_enc|Ctrl+1|$(C_LUA)|$(C_NOTSAVE)|toolbar==>${ICO_ENCODE_ABBR};;\
Decode selected abbr to text!|latex_abbrev_dec|1|$(C_LUA)|$(C_NOTSAVE)|toolbar==>${ICO_DECODE_ABBR};;\
Eval selected property!|eval_sel_property|1|$(C_LUA)|$(C_NOTSAVE);;\
CN_GB.prop-->CN_B5.prop| gbk2big5 CN_GB.properties CN_B5.properties|1|$(C_WINDOWS);;\
CN_B5.prop-->CN_GB.prop| big52gbk CN_B5.properties CN_GB.properties|1|$(C_WINDOWS);;\
CN2_GB.prop-->CN2_B5.prop| gbk2big5 CN2_GB.properties CN2_B5.properties|1|$(C_WINDOWS);;\
CN2_B5.prop-->CN2_GB.prop| big52gbk CN2_B5.properties CN2_GB.properties|1|$(C_WINDOWS);;\
Load into Registry|regedit ${FilePath}|1|$(C_WINDOWS);;\


[Tools Menu for web files]:: define tools for web files (html, asp, jsp, php)
SUBMENU_web=\
Microsoft IE!|"${IEXPLORE}"\iexplore.exe ${FilePath}|Ctrl+Alt+1|$(C_SHELLEXEC);;\
Firefox!|${FIREFOX}\firefox.exe ${FilePath}|1|$(C_SHELLEXEC);;\
Opera!|${OPERA}\opera.exe ${FilePath}|1|$(C_SHELLEXEC);;\
K-Mellon!|${KMELLON}\K-Mellon.exe ${FilePath}|1|$(C_SHELLEXEC);;\
Google Chrome!|${Chrome}\chrome.exe ${FilePath}|1|$(C_SHELLEXEC);;\
Apple Safari!|${SAFARI}\safari.exe ${FilePath}|1|$(C_SHELLEXEC);;\
TheWorld!|${THEWORLD}\theworld.exe ${FilePath}|1|$(C_SHELLEXEC);;\
Lotrix!|${LOTRIX}\lotrix.exe ${FilePath}|1|$(C_SHELLEXEC);;\

MENU_web=\
Browse me!|file://${FilePath}|Ctrl+1|$(C_SHELLEXEC);;\
Test me!|http://localhost/${FileWebPath}|1|$(C_SHELLEXEC);;\ --FileWebPath is the relative path to webroot
Html Tidy!|${CMDUTIL} tidy ${TIDY.OPTS} "${FilePath}"|1|$(C_SHELLEXEC);;\
Profile php!|${PHP}\php.exe prof_results.php ${FilePath}|1|$(C_SHELLEXEC);;\
MYSQL Admin|${MYSQL}\winmysqladmin.exe|1|$(C_SHELLEXEC);;\
Apache Start|${APACHE}\apache.exe -k start|1|$(C_SHELLEXEC);;\
Apache Stop|${APACHE}\apache.exe -k stop|1|$(C_SHELLEXEC);;\
Browsers|@@SUBMENU_web|200;;\


[Tools Menu for mtexlang files]:: define tools for MTeX lanuguage files (0,936,950,wb)
MENU_mtexlang=\
Preview me by wbox!| wbox ${FilePath} && del wbox.lst;wbox.sav|Ctrl+1|$(C_SHELLEXEC);;\
GBK(936)-->Big5(950)| gbk2big5 ${FileName}.936 ${FileName}.950||1;;\
Big5(950)-->GBK(936)| big52gbk ${FileName}.950 ${FileName}.936||1;;\


[Tools Menu for cpp files]:: define tools for c/c++ files
SUBMENU_cpp=\
LCC| ${LCC}\lcc.exe -I${LCC}\..\include ${LCC.OPTS} ${FilePath} && echo ${LCC}\..\lib| ${LCC}\lcclnk.exe ${FileName}.obj  ${LCC.LIBS}|Ctrl+Alt+1;;\
PellesC|  ${PELLESC}\cc.exe -I${PELLESC}\..\include ${PELLESC.OPTS} ${FilePath} /LIBPATH:${PELLESC}\..\lib ${PELLESC.LIBS}|1;;\
Intel C++|${INTELC}\icl.exe -o ${FileName}.exe ${INTELC.OPTS} ${FilePath} ${INTELC.LIBS}|1;;\
Microsoft VC6|${MSVC}\cl.exe ${MSVC.OPTS} ${FilePath} ${MSVC.LIBS}|1;;\
Softintegration Ch|${CH}\ch.exe ${CH.OPTS} ${FilePath} ${CH.LIBS}|1;;\
Turbo C|${TURBOC}\tcc.exe ${TURBOC.OPTS} ${FilePath} ${TURBOC.LIBS}|1|$(C_SHELLEXEC);;\
DJGPP GCC|${DJGPP}\gcc.exe -o ${FileName}.exe ${DJGPP.OPTS} ${FilePath} ${DJGPP.LIBS}|1;;\
Micro C|${MICROC}\cc.exe ${MICROC.OPTS} ${FilePath} -fop|1;;\
UnderC Interpretor|${UNDERC}\ucw.exe ${UNDERC.OPTS} ${FilePath}|1;;\

--Lightweight C++ Translator|${LWC}\lwc.exe ${LWC.OPTS} ${FilePath} ${LWC.LIBS};;\
--LCC| ${LCC}\lc.exe -I${LCC}\..\include ${LCC.OPTS} ${FilePath} ${LCC.LIBS};;\
--PellesC|  ${PELLESC}\pocc.exe -I${PELLESC}\..\include ${PELLESC.OPTS} ${FilePath} && ${PELLESC}\polink.exe /LIBPATH:${PELLESC}\..\lib ${FileName}.obj  ${PELLESC.LIBS};;\


MENU_cpp=\
Tiny C Run|${CMDUTIL} tinyc -run ${TINYC.OPTS} ${FilePath} ${TINYC.LIBS}|Ctrl+1;;\
Tiny C Compile|${CMDUTIL} tinyc ${TINYC.OPTS} ${FilePath} ${TINYC.LIBS}|1;;\
MingW32 GCC|${MINGW}\gcc.exe -o ${FileName}.exe ${MINGW.OPTS} ${FilePath} ${MINGW.LIBS}|1;;\
Borland C++|${BCC}\bcc32.exe ${BCC.OPTS} ${FilePath} ${BCC.LIBS}|1;;\
Astyle Code Beautifier|${CMDUTIL} astyle ${FilePath}|1|$(C_CONSOLE);;\
Uncrustify Code Beautifier|${CMDUTIL} uncrustify ${FilePath}|1|$(C_CONSOLE);;\
LCC Resource Editor|${LCC}\weditres.exe ${FileName}.res|1|$(C_SHELLEXEC);;\
LCC Image Editor|${LCC}\iedit.exe|1|$(C_SHELLEXEC);;\
Borland/Turbo Debugger|${BCC}\tdw.exe ${FileName}.exe|1|$(C_SHELLEXEC);;\
Run Ctags (in current folder)| runcmd util ctags -R && tview tags|1|$(C_SHELLEXEC);;\
Misc Compilers|@@SUBMENU_cpp|200;;\
GDB Debugger|@@SUBMENU_debug|230;;\

[Tools Menu for freebasic files]:: define tools for freebasic files
MENU_freebasic=\
FreeBaisc Compile (.Exe)|${FREEBASIC}\fbc.exe ${FREEBASIC.OPTS} ${FilePath}|Ctrl+1;;\


[Tools Menu for pascal files]:: define tools for pascal files
MENU_pascal=\
Delphi|${DELPHI}\dcc32.exe ${DELPHI.OPTS} ${FilePath}|Ctrl+1;;\
Delphi (KOL)|${DELPHI}\dcc32.exe -U${KOL}\sysclasses;${KOL}\sysdcu_d7 -I${KOL}\sysclasses;${KOL}\sysdcu_d7 ${DELPHI.OPTS} ${FilePath}|1;;\
Turbo Pascal|${TURBOPASCAL}\tpc.exe ${TURBOPASCAL.OPTS} ${FilePath}|1;;\
Free Pascal|${FREEPASCAL}\fpc.exe ${FREEPASCAL.OPTS} ${FilePath}|1;;\
Visual Pascal|${VISUALPASCAL}\vpc.exe -VC${VISUALPASCAL}\vp.vpo ${VISUALPASCAL.OPTS} ${FilePath}|1;;\
GNU P2C|$(P2C)\p2c.exe $(P2C.OPTS) ${FilePath}|1;;\
PTOP Code Beautifier| copy ${FilePath} ${FilePath}.orig  &&  call util ptop ${FilePath}.orig ${FilePath}|1;;\
BP7SB Code Beautifier|${CMDUTIL} bp7sb ${FilePath}|1;;\
Dpr7Pp (Multi-language Support)|lua dpr2pp.lua ${FilePath}|1;;\
DFMConv (to text)|${DELPHI}\dfmconv.exe -i -t *.dfm|1;;\
DFMConv (to binary)|${DELPHI}\dfmconv.exe -i -b *.dfm|1;;\
DFMEdit|${DELPHI}\dfmedit.exe ${FilePath}|1|$(C_SHELLEXEC);;\
KOLConv|${DELPHI}\kolconv.exe|1|$(C_SHELLEXEC);;\
GDB Debugger|@@SUBMENU_debug|230;;\


[Tools Menu for fortran files]:: define tools for fortran files (f,f77,f95)
MENU_fortran=\
LCC F2C| ${LCC}\f2c.exe ${FilePath} && ${LCC}\lcclnk.exe ${FileName}.obj libf77.lib;;\
MingW32 G95| set LPATH=${MINGW}\..\lib;%LPATH% && ${MINGW}\g95.exe -o ${FileName}.exe ${FilePath};;\
MingW32 G77| set LPATH=${MINGW}\..\lib;%LPATH% && ${MINGW}\g77.exe -o ${FileName}.exe ${FilePath};;\
DJGPP G77| ${DJGPP}\g77.exe -o ${FilePath};;\
Fortran77 (DOS)| $(F77)\for1.exe ${FilePath}; && (F77)\for2.exe ${FileName}; && $(F77)\link.exe ${FileName};;;\


[Tools Menu for forth files]:: define tools for forth files (4th)
MENU_forth=\
ForthCMP (DOS)| command /c ${FORTHCMP}\4c.com ${FilePath} > 4c.log && type 4c.log && command /c ${FileName}.com;;\
GForth|${GFORTH}\gforth.exe ${FilePath};;\
BigForth|${BIGFORTH}\bigforth.exe ${FilePath};;\


[Tools Menu for asm files]:: define tools for asm files (asm)
MENU_asm=\
MASM32 Compile|$(MASM32)\ml.exe /c $(MASM32.OPTS) ${FilePath};;\
MASM32 Link (Windows)|$(MASM32)\link.exe /SUBSYSTEM:WINDOWS $(LINK32.OPTS)  ${FileName} $(MASM32.LIBS);;\
MASM32 Link (Console)|$(MASM32)\link.exe /SUBSYSTEM:CONSOLE $(LINK32.OPTS)  ${FileName} $(MASM32.LIBS);;\
MASM32 Build (Windows)| $(MASM32)\ml.exe /c $(MASM32.OPTS) ${FilePath} && $(MASM32)\link.exe /SUBSYSTEM:WINDOWS $(LINK32.OPTS) ${FileName} $(MASM32.LIBS);;\
MASM32 Build (Console)| $(MASM32)\ml.exe /c $(MASM32.OPTS) ${FilePath} && $(MASM32)\link.exe /SUBSYSTEM:CONSOLE $(LINK32.OPTS) ${FileName} $(MASM32.LIBS);;\
MASM Build (DOS)| ${MASM}\masm.exe ${MASM.OPTS} ${FilePath},, && ${MASM}\link.exe ${LINK.OPTS} ${FileName}.obj ${MASM.LIBS};;\
TASM32 Build (Windows)| ${TASM}\tasm32.exe ${FilePath},, && ${TASM}\tlink32.exe /Twe $(TLINK32.OPTS) ${FileName}.obj $(TASM32.LIBS);;\
TASM Build (DOS)| ${TASM}\tasm.exe ${TASM.OPTS} ${FilePath} && ${TASM}\tlink.exe ${TLINK.OPTS} ${FileName}.obj ${TASM.LIBS};;\
FASM| set INCLUDE=${FASM}\include && ${FASM}\fasm.exe ${FASM.OPTS} ${FilePath};;\
NASM with Mingw GCC (Windows)| d:\nasm\nasm.exe -fwin32 ${NASM.OPTS}  ${FilePath} && ${MINGW}\gcc.exe -o ${FileName}.exe ${FileName}.obj ${NASM.LIBS};;\
GoASM| ${GOASM}\goasm.exe ${GOASM.OPTS} ${FilePath} && ${GOASM}\golink.exe ${FileName}.obj user32.dll kernel32.dll gdi32.dll ${GOASM.LIBS};;\
Microsoft Image Editor|$(MASM32)\imagedit.exe;;\
Clean obj files| del ${FileName}.obj ${FileName}.o ${FileName}.lst ${FileName}.map|Ctrl+Delete;;\


[Tools Menu for rc files]:: define tools for rc files
MENU_rc=\
Borland Resources Compiler|${BCC}\brcc32.exe ${FilePath}|Ctrl+1;;\
LCC Resources Compiler| echo ${LCC}\..\include|${LCC}\lrc.exe ${FilePath}|1;;\
Pelles C Resources Compiler|${PELLESC}\porc.exe ${FilePath}|1;;\
Microsoft Resources Compiler|$(MASM32)\rc.exe ${RC.OPTS} ${FilePath}|1;;\
Microsoft CVTRES (Res to Obj)|$(MASM32)\cvtres.exe /machine:ix86 ${CVTRES.OPTS} ${FileName}.res|1;;\
MingW GCC WindRes (rc->o)|${MINGW}\windres.exe -o ${FileName}.o ${FilePath}|1;;\
MingW GCC Res2Dll (o->dll)|${MINGW}\gcc.exe -s -shared -nostdlib -o ${FileName}.dll ${FileName}.o|1;;\
Res2Dll (using Delphi)| set DCC32=${DELPHI}\dcc32.exe && call res2dll.btm ${FileName}.res|1;;\
LCC Resource Editor|${LCC}\weditres.exe ${FileName}.res|1|$(C_SHELLEXEC);;\
Preview by Reshacker|${CMDUTIL} reshacker ${FileName}.res|1;;\
Edit by ResEdit|${CMDUTIL} resedit ${FileName}.res|1;;\
Microsoft Image Editor|$(MASM32)\imagedit.exe|1;;\
LCC Image Editor|${LCC}\iedit.exe|1;;\


[Tools Menu for vbscript files]:: define tools for vbs files
MENU_vbscript=\
Run with WScript|wscript.exe ${FilePath}|Ctrl+1|$(C_SHELLEXEC);;\
Run with CScript|cscript.exe ${FilePath}|1|$(C_CONSOLE);;\
Run selection|${CMD_CSCRIPT_RUNSEL}|1|$(C_CONSOLE)|input==>${CurrentSelection};;\
Display COM object in OLE Viewer|wscript.exe "${SciteDefaultHome}\tools\display_com_object_in_ole_viewer.vbs"|1|$(C_CONSOLE)|input==>${CurrentSelection}

CMD_CSCRIPT_RUNSEL=${CMD_GEN_TMPFILE} && cscript.exe /nologo ${TMPFILE}

[Tools Menu for javascript files]:: define tools for js files
MENU_js=$(MENU_vbscript)
[Tools Menu for php files]:: define tools for php files
MENU_php=\
Browse me!|file://${FilePath}|Ctrl+1|$(C_SHELLEXEC);;\
Test me!|http://localhost/${FileWebPath}|1|$(C_SHELLEXEC);;\
Run with PHP|${PHP}\php.exe ${FilePath}|1|$(C_CONSOLE);;\
Run with PHP-Win|${PHP}\php-win.exe ${FilePath}|1|$(C_SHELLEXEC);;\
phpMyAdmin|iexplore.exe ${phpMyAdmin}\index.php|1|$(C_SHELLEXEC);;\
MYSQL Admin|${MYSQL}\winmysqladmin.exe|1|$(C_SHELLEXEC);;\
Apache Start|${APACHE}\apache.exe -k start|1|$(C_SHELLEXEC);;\
Apache Stop|${APACHE}\apache.exe -k stop|1|$(C_SHELLEXEC);;\
Php Beautifier|${PHP}\php.exe ${PHPBEAUTIFIER}\Beautifier.php ${FilePath}|Ctrl+0|$(C_CONSOLE);;\

[Tools Menu for makefile]:: define tools for makefile
SUBMENU_make=\
Msys Make|${MAKER.MSYS} -f ${FilePath}|Ctrl+Alt+0|1;;\
MingW Make|${MAKER.MINGW} -f ${FilePath}|Ctrl+Alt+1|1;;\
BCC Make|${MAKER.BCC} -f ${FilePath}|1|$(C_WINDOWS);;\
MSVC NMake|${MAKER.MSVC} -f ${FilePath}|1|$(C_WINDOWS);;\
DJGPP Make|${MAKER.DJGPP} -f ${FilePath}|1|$(C_WINDOWS);;\
TASM Make|${MAKER.TASM} -f ${FilePath}|1|$(C_WINDOWS);;\
LCC Make|${MAKER.LCC} -f ${FilePath}|1|$(C_WINDOWS);;\
WATCOMC Make|${MAKER.WATCOMC} -f ${FilePath}|1|$(C_WINDOWS);;\
PELLESC Make|${MAKER.PELLESC} -f ${FilePath}|1|$(C_WINDOWS);;\
FREEPASCAL Make|${MAKER.FREEPASCAL} -f ${FilePath}|1|$(C_WINDOWS);;\

MENU_make=\
Make with default maker|${MAKER} -f ${FilePath}|Ctrl+1|1;;\
Misc Makers|@@SUBMENU_make|200;;\


[Tools Menu for text files]:: define tools for text files
MENU_text=\
Toggle Ebook View|view_ebook|Ctrl+1|$(C_LUA)|$(C_NOTSAVE)|checked==>${ebook.view};;\
TView|tview.exe ${FilePath}|1|$(C_SHELLEXEC);;\
TextViewer|${CMDUTIL} textviewer ${FilePath}|1|$(C_WINDOWS);;\
Txt2Chm|${CMDUTIL} txt2chm ${FilePath}|1|$(C_WINDOWS);;\


