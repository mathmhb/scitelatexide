#[mhb]:06/27/09 15:21:58
[Subsystem Constants]:: define some constants (don't modify them!!')
##define constants for subsystem values
C_CONSOLE=0
C_WINDOWS=1
C_SHELLEXEC=2
C_LUA=3
C_CHM=4
C_HLP=5

##define constants for savebefore values
C_ASKSAVE=0
C_AUTOSAVE=1
C_NOTSAVE=2

[Root Submenu]:: make filetype specific user tools into a submenu
## make language specific tools menu under a submenu 
command.submenu.name.1.*=.$(FileExt) 
command.parent.0.*=1
command.parent.1.*=1
command.parent.2.*=1
command.parent.3.*=1
command.parent.4.*=1
command.parent.5.*=1
command.parent.6.*=1
command.parent.7.*=1
command.parent.8.*=1
command.parent.9.*=1
command.parent.10.*=1
command.parent.11.*=1
command.parent.12.*=1
command.parent.13.*=1
command.parent.14.*=1
command.parent.15.*=1
command.parent.16.*=1
command.parent.17.*=1
command.parent.18.*=1
command.parent.19.*=1

[Common Settings]:: define some common settings
##define command interpreter: MTeX uses tcc/4nt instead of CMD.exe 
COMSPEC=cmd.exe
CMD=$(COMSPEC) /c
CMDCHDIR=cd /d "$(FileDir)"
CMDPAUSE=pause
CMDUTIL="$(SciteDefaultHome)\cmdutil.bat" 
CMD4NT="$(MTEX)\bin\tcc.exe"

if USE_MTEX
	COMSPEC=$(CMD4NT)
	CMD=$(CMD4NT) /c
	CMDUTIL=$(CMD) util

##define command to generate a temporary file from standard input (selected text)
TMPFILE="%TEMP%\\__tmp__.$(FileExt)"
CMD_GEN_TMPFILE=cmd.exe /c more.com >$(TMPFILE)

[My Commands]::define my commands for compilers, etc. for easy customizing favarite compilers

##make/run
CMD_MAKER=$(MAKER) -f makefile
CMD_EXE="$(FileDir)\$(FileName).exe"
CMD_RUN_EXE=$(CMD) $(CMDCHDIR) && "$(FileName)" && $(CMDPAUSE)
CMD_RUN_HTML="file://$(FilePath)"
CMD_RUN_HTA="$(FilePath)"

##c/c++ compilers
CMD_GCC=gcc "$(FilePath)"
CMD_TINYC=$(CMDUTIL) tinyc $(TINYC.OPTS) "$(FilePath)" $(TINYC.LIBS)
CMD_TINYC_RUN=$(CMDUTIL) tinyc -run "$(FilePath)"
#~ CMD_LCC=$(CMD) $(LCC)\lcc.exe -I$(LCC)\..\include $(LCC.OPTS) "$(FilePath)" && $(LCC)\lcclnk.exe -L$(LCC)\..\lib $(FileName).obj  $(LCC.LIBS)
CMD_LCC=$(CMD) $(LCC)\lc.exe -I$(LCC)\..\include $(LCC.OPTS) "$(FilePath)" $(LCC.LIBS)
CMD_BCC=$(BCC)\bcc32.exe $(BCC.OPTS) "$(FilePath)" $(BCC.LIBS)
CMD_DJGPP=$(DJGPP)\gcc.exe -o $(FileName).exe $(DJGPP.OPTS) "$(FilePath)" $(DJGPP.LIBS)
#~ CMD_PELLESC=$(PELLESC)\cc.exe /I$(PELLESC)\..\include $(PELLESC.OPTS) "$(FilePath)" /LIBPATH:$(PELLESC)\..\lib $(PELLESC.LIBS)
CMD_PELLESC=$(CMD) $(PELLESC)\pocc.exe /I$(PELLESC)\..\include $(PELLESC.OPTS) "$(FilePath)" && $(PELLESC)\polink.exe /LIBPATH:"$(PELLESC)\..\Lib" /LIBPATH:"$(PELLESC)\..\Lib\Win" $(FileName).obj  $(PELLESC.LIBS)
CMD_TURBOC=$(TURBOC)\tcc.exe $(TURBOC.OPTS) "$(FilePath)" $(TURBOC.LIBS)
CMD_MICROC=$(MICROC)\cc.exe $(MICROC.OPTS) "$(FilePath)" -fop
CMD_INTELC=$(INTELC)\icl.exe -o $(FileName).exe $(INTELC.OPTS) "$(FilePath)" $(INTELC.LIBS)
CMD_WATCOMC=$(CMD) call $(WATCOMC)\..\owsetenv.bat && $(WATCOMC)\owcc.exe $(WATCOMC.OPTS) "$(FilePath)" $(WATCOMC.LIBS)
CMD_MSVC=$(CMD) set INCLUDE=$(MSVC)\..\include;$(MSVC)\..\PlatformSDK\include;$(MSVC)\..\atlmfc\include && set LIB=$(MSVC)\..\lib;$(MSVC)\..\PlatformSDK\Lib;$(MSVC)\..\atlmfc\lib && $(MSVC)\cl.exe $(MSVC.OPTS) "$(FilePath)" $(MSVC.LIBS)
CMD_CH=$(CH)\ch.exe $(CH.OPTS) "$(FilePath)" $(CH.LIBS)
CMD_CH_RUN=$(CH)\ch.exe -f "$(FilePath)" $(CH.LIBS)
CMD_CH_COMPILE=$(CH)\ch.exe -n "$(FilePath)" $(CH.LIBS)

CMD_DMD=$(DMD)\dmd.exe $(DMD.OPTS) "$(FilePath)" $(DMD.LIBS)
CMD_UNDERC=$(UNDERC)\ucw.exe $(UNDERC.OPTS) "$(FilePath)"
CMD_MINGW=$(MINGW)\gcc.exe -o $(FileName).exe $(MINGW.OPTS) "$(FilePath)" $(MINGW.LIBS)
CMD_LWC=$(LWC)\lwc.exe $(LWC.OPTS) "$(FilePath)" $(LWC.LIBS)

##C/C++ embedded tools for ARM-linux and my InnoStar PXA270
CMD_ARMGCC=$(CMD) $(ARMGCC)\arm-linux-g++.exe -c $(ARMGCC.OPTS) "$(FilePath)" && $(ARMGCC)\arm-linux-g++.exe -o "$(FileName)" "$(FileName).o" $(ARMGCC.LIBS) 
CMD_MFNG_COMPILE=$(MultiFlexNG)\mycompile.bat "$(FilePath)"
CMD_MFNG_DOWNLOAD=$(MultiFlexNG)\mydownload.exe MultiFlexNG

CMD_AVRGCC=$(CMD) $(AVRGCC)\avr-g++.exe -o "$(FileName).elf" $(AVRGCC.OPTS) "$(FilePath)" $(AVRGCC.LIBS) && $(AVRGCC)\avr-objcopy.exe -R .eeprom -O ihex "$(FileName).elf" "$(FileName).hex" 
CMD_MF2_COMPILE=$(MultiFlex2)\mycompile.bat "$(FilePath)"
CMD_MF2_DOWNLOAD=$(MultiFlex2)\mydownload.bat MultiFlex2.hex

##C/C++ embedded tools for 8051 series microcontrollers
CMD_Link51="$(C51)\BL51.exe"  $(C51.LIBS),"$(FileName).obj" TO "$(FileName).abs" $(BL51.OPTS) && "$(C51)\OH51.exe" "$(FileName).abs"
CMD_C51=$(CMD) "$(C51)\C51.exe" "$(FileNameExt)" $(C51.OPTS) && $(CMD_Link51)
CMD_SDCC=$(CMD) "$(SDCC)\sdcc.exe" $(SDCC.OPTS) "$(FilePath)" $(SDCC.LIBS) && "$(SDCC)\packihx.exe" "$(FileName).ihx" > "$(FileName).hex"
CMD_STC_DOWNLOAD=$(STC_DOWNLOADER) "$(FileName).hex"

##C# compilers
CMD_MONO=$(MONO)\mono.exe "$(FilePath)"
CMD_MONO_RUN=$(MONO)\mono.exe ${FileName}.exe
CMD_MCS=mcs /t:winexe $(FileNameExt) /r:System,System.Drawing

##pascal compilers
CMD_DELPHI=$(DELPHI)\dcc32.exe $(DELPHI.OPTS) "$(FilePath)"
CMD_DELPHIKOL=$(DELPHI)\dcc32.exe -U$(KOL)\sysclasses;$(KOL)\sysdcu_d7 -I$(KOL)\sysclasses;$(KOL)\sysdcu_d7 $(DELPHI.OPTS) "$(FilePath)"
CMD_TURBOPASCAL=$(TURBOPASCAL)\tpc.exe $(TURBOPASCAL.OPTS) "$(FilePath)"
CMD_FREEPASCAL=$(FREEPASCAL)\fpc.exe $(FREEPASCAL.OPTS) "$(FilePath)"
CMD_FPC=fpc -B "$(FilePath)"
CMD_VISUALPASCAL=$(VISUALPASCAL)\vpc.exe -VC$(VISUALPASCAL)\vp.vpo $(VISUALPASCAL.OPTS) "$(FilePath)"
CMD_P2C=$(P2C)\p2c.exe $(P2C.OPTS) "$(FilePath)"

##fortran compilers
CMD_LCC_F2C=$(CMD) $(LCC)\f2c.exe "$(FilePath)" && $(LCC)\lcclnk.exe $(FileName).obj libf77.lib
CMD_MINGW_G95=$(CMD) set LPATH=$(MINGW)\..\lib;%LPATH% && $(MINGW)\g95.exe -o $(FileName).exe "$(FilePath)"
CMD_MINGW_G77=$(CMD) set LPATH=$(MINGW)\..\lib;%LPATH% && $(MINGW)\g77.exe -o $(FileName).exe "$(FilePath)"
CMD_DJGPP_G77=$(CMD) set LPATH=$(DJGPP)\..\lib;%LPATH% && $(DJGPP)\g77.exe -o $(FileName).exe "$(FilePath)"
CMD_DOS_FORTRAN77=$(CMD) $(F77)\for1.exe "$(FilePath)"; && (F77)\for2.exe $(FileName); && $(F77)\link.exe $(FileName)

##lua compilers
CMD_LUA_DOFILE=dofile $(FilePath)
CMD_LUA=$(LUA_EXE) "$(FileNameExt)"
CMD_LUAC=$(LUAC_EXE) -o "$(FileName).luac" "$(FileNameExt)"
CMD_MURGALUA=$(CMDUTIL) murgalua "$(FileNameExt)"
CMD_LUAWIN=$(CMDUTIL) luawin "$(FileNameExt)"
CMD_LUAJIT=$(CMDUTIL) luajit "$(FileNameExt)"
CMD_LUAAIO=$(CMDUTIL) luaaio "$(FileNameExt)"
CMD_TEXLUA=$(CMDUTIL) :luatex texlua "$(FileNameExt)"
CMD_LUA4NT=$(CMD4NT) plugin /L lua4nt.dll && ilua "$(FileNameExt)"
CMD_LUAGD=$(CMDUTIL) luagd "$(FileNameExt)"
CMD_LUALIP=$(CMDUTIL) lualip "$(FileNameExt)"
CMD_MAXLUA=$(CMDUTIL) maxlua "$(FileNameExt)"
CMD_LUAPLUS=$(CMDUTIL) luaplus "$(FileNameExt)"
CMD_LUA4TC=$(CMDUTIL) lua4tc "$(FileNameExt)"

##Basic compilers
CMD_FREEBASIC=$(FREEBASIC)\fbc.exe $(FREEBASIC.OPTS) "$(FilePath)"
CMD_QUICKBASIC=$(QUICKBASIC)\qbcom.exe $(QUICKBASIC.OPTS) "$(FilePath)"
CMD_POWERBASIC=$(POWERBASIC)\pbwin.exe "$(FilePath)"
CMD_PBEDIT=$(POWERBASIC)\pbedit.exe "$(FilePath)"
CMD_TRUEBASIC=$(TRUEBASIC)\hello.exe "$(FilePath)"


##assemblers
CMD_MASM32_COMPILE=$(MASM32)\ml.exe /c $(MASM32.OPTS) "$(FilePath)"
CMD_MASM32_RSRC=$(CMD) $(MASM32)\rc.exe $(RC.OPTS) rsrc.rc && $(MASM32)\cvtres.exe /machine:ix86 $(CVTRES.OPTS) rsrc.res
CMD_MASM32_BUILD_CON=$(CMD) $(CMD_MASM32_COMPILE) && $(CMD_MASM32_LINK_CON)
CMD_MASM32_BUILD_WIN=$(CMD) $(CMD_MASM32_COMPILE) && $(CMD_MASM32_LINK_WIN)
CMD_MASM32_LINK_CON=$(MASM32)\link.exe /SUBSYSTEM:CONSOLE $(LINK32.OPTS)  $(FileName) $(MASM32.LIBS) rsrc*.obj
CMD_MASM32_LINK_WIN=$(MASM32)\link.exe /SUBSYSTEM:WINDOWS $(LINK32.OPTS)  $(FileName) $(MASM32.LIBS) rsrc*.obj
CMD_MASM_BUILD_DOS=$(CMD) $(MASM)\masm.exe $(MASM.OPTS) "$(FilePath)",, && $(MASM)\link.exe $(LINK.OPTS) $(FileName).obj $(MASM.LIBS)
CMD_TASM32_BUILD_WIN=$(CMD) $(TASM)\tasm32.exe "$(FilePath)",, && $(TASM)\tlink32.exe /Twe $(TLINK32.OPTS) $(FileName).obj $(TASM32.LIBS)
CMD_TASM_BUILD_DOS=$(CMD) $(TASM)\tasm.exe $(TASM.OPTS) "$(FilePath)" && $(TASM)\tlink.exe $(TLINK.OPTS) $(FileName).obj $(TASM.LIBS)
CMD_FASM=$(CMD) set INCLUDE=$(FASM)\include && $(FASM)\fasm.exe $(FASM.OPTS) "$(FilePath)"
CMD_GOASM=$(CMD) $(GOASM)\goasm.exe $(GOASM.OPTS) "$(FilePath)" && $(GOASM)\golink.exe $(FileName).obj user32.dll kernel32.dll gdi32.dll $(GOASM.LIBS)
CMD_NASM_GCC=$(CMD) $(NASM)\nasm.exe -fwin32 $(NASM.OPTS) "$(FilePath)" && $(MINGW)\gcc.exe -o $(FileName).exe $(FileName).obj $(NASM.LIBS)

##Embedded Assemblers
CMD_A51=$(CMD) "$(C51)\A51.exe" "$(FileNameExt)" $(A51.OPTS) && $(CMD_Link51)
CMD_ASX8051=$(CMD) "$(SDCC)\asx8051.exe" $(ASX8051.OPTS) "$(FilePath)" $(ASX8051.LIBS)
CMD_GAVRASM=$(CMD) "$(GAVRASM)\gavrasm.exe" "$(FilePath)" $(GAVRASM.OPTS) $(GAVRASM.LIBS)
CMD_AVR_AS=$(CMD) "$(AVRGCC)\avr-as.exe" "$(FilePath)" $(AVR_AS.OPTS) $(AVR_AS.LIBS)

##resource compilers
CMD_BRCC=$(BCC)\brcc32.exe "$(FilePath)"
CMD_LRC=$(CMD) echo $(LCC)\..\include | $(LCC)\lrc.exe "$(FilePath)"
CMD_PORC=$(PELLESC)\porc.exe "$(FilePath)"
CMD_RC=$(MASM32)\rc.exe $(RC.OPTS) "$(FilePath)"
CMD_WINDRES=$(MINGW)\windres.exe -o $(FileName).o "$(FilePath)"

##vbscript/javascript commands
CMD_WSCRIPT=wscript "$(FilePath)"
CMD_CSCRIPT=cscript "$(FilePath)"

##tex/latex commands
CMD_COMPILE=$(CMD) compile "$(FilePath)"
CMD_CLATEX=$(CMD) clatex "$(FilePath)"
CMD_DVIPDFM=$(CMD) dvipdfm "$(FileDir)\$(FileName).dvi"
CMD_DVIPS=$(CMD) dvips "$(FileDir)\$(FileName).dvi"
CMD_GSVIEW=$(GSVIEW)\gsview32.exe "$(FileName).ps"

##Ada compiler
CMD_GNAT=$(MINGW)\gnat.exe
CMD_GNATMAKE=$(MINGW)\gnatmake.exe

##Java compiler
CMD_JAVA=java "$(FilePath)"
CMD_JAVAC=javac "$(FilePath)"

##AutoIt3 commands
CMD_AUTOIT3=$(AUTOIT)\autoit3.exe /in "$(FilePath)"
CMD_AUT2EXE=$(AUTOIT)\aut2exe\aut2exe.exe /in "$(FilePath)"

##Euphoria compilers
CMD_EXW=$(CMD) start $(EUPHORIA)\exw.exe "$(FilePath)"

##Forth compilers
CMD_SPF=$(FORTH)\spf4.exe "$(FilePath)"

##Drawing languages
CMD_ASY2PDF=$(CMDUTIL) asy --format=pdf "$(FilePath)"
CMD_ASY2EPS=$(CMDUTIL) asy --format=eps "$(FilePath)"
CMD_ASY=$(CMDUTIL) asy "$(FilePath)"
CMD_GNUPLOT=$(GNUPLOT)\wgnuplot.exe "$(FilePath)"
CMD_METAPOST=$(CMD) mpost "$(FilePath)"

##Lout commands
CMD_LOUT2PS=$(LOUT)\lout.exe -o "$(FileName).ps" "$(FileNameExt)"
CMD_LOUT2PDF=$(LOUT)\lout.exe -o "$(FileName).pdf" "$(FileNameExt)"

##Mathematics softwares
CMD_RLAB=$(RLAB)\rlab.exe "$(FilePath)"
CMD_YACAS=$(YACAS)\yacas.exe -pc --archive $(YACAS)\scripts.dat 
CMD_OX=$(OX)\oxl.exe "$(FilePath)"

##Installer compilers
CMD_NSIS=$(NSIS)\makensis.exe "$(FilePath)"
CMD_INNO=$(INNO)\issc.exe "$(FilePath)"

##misc compilers
CMD_PHP=$(PHP)\php.exe -f "$(FileNameExt)"
CMD_BATCH=$(CMD) "$(FilePath)"
CMD_SPECMAN=$(SPECMAN)\ecompile.exe "$(FilePath)"
CMD_KIX32=$(KIX)\kix32 $(FileNameExt)
CMD_IDLE=$(IDLE)\idlew.exe "$(FilePath)"
CMD_WBOX=$(MTEX)\bin\wbox.exe "$(FilePath)"
CMD_RUBY=$(RUBY)\rubyw "$(FilePath)"
CMD_PYTHON=$(PYTHON)\pythonw.exe "$(FilePath)"
CMD_PERL=$(PERL)\perl.exe "$(FilePath)"
CMD_HTTPD=$(APACHE)\httpd.exe -t -f "$(FilePath)"
CMD_POV=pvengine.exe "$(FilePath)"
CMD_SOL=$(SOL)\solc.exe -c "$(FilePath)"
CMD_CAML=$(CAML)\ocamlc.exe -c "$(FilePath)"

##Markdown to html converter
CMD_MARKDOWN=dostring mymarkdown(props['FilePath']) shellexec(props['FileName']..'.html')

[Default Go Commands]:: define default go commands for misc filetypes
## menucmds.lua will automatically set : command.go.$(file.patterns.xxx)=$(GO_xxx)
## GO_xxx can contain optional subsystem and directory settings (seperated by ";;")
GO_*=${CMD_RUN_EXE};;$(C_SHELLEXEC)

GO_tex=${CMD_PDFFIND};;$(C_SHELLEXEC)
GO_latex=${CMD_PDFFIND};;$(C_SHELLEXEC)

GO_lua=${CMD_LUA_DOFILE};;$(C_LUA)
#~ GO_lua=run_me;;$(C_LUA)

GO_asm=${CMD_RUN_EXE};;$(C_SHELLEXEC)
GO_pascal=${CMD_RUN_EXE};;$(C_SHELLEXEC)
GO_cpp=${CMD_RUN_EXE};;$(C_SHELLEXEC)
GO_fortran=${CMD_RUN_EXE};;$(C_SHELLEXEC)

GO_php=${CMD_PHP}
GO_vbscript=${CMD_WSCRIPT}
GO_js=${CMD_WSCRIPT}
GO_batch=${CMD_BATCH}
GO_au3=${CMD_AUTOIT3}
GO_cs=${CMD_MONO_RUN}
GO_java=${CMD_JAVA}
GO_ch=${CMD_CH_RUN}
GO_kix=${CMD_KIX}
GO_lout=${CMD_GSVIEW}
GO_nsis=${CMD_EXE}
GO_rlab=${CMD_RLAB}
GO_gnuplot=${CMD_GNUPLOT}
GO_idle=${CMD_IDLE}
GO_yacas=${CMD_YACAS}
GO_ox=${CMD_OXL}
GO_wb=${CMD_WBOX}
GO_rb=${CMD_RUBY}
GO_python=${CMD_PYTHON}
GO_perl=${CMD_PERL}
GO_conf=${CMD_HTTPD}
GO_euphoria=${CMD_EXW}

[Default Build Commands]:: define default build commands for misc filetypes
## menucmds.lua will automatically set : command.build.$(file.patterns.xxx)=$(BUILD_xxx)
## BUILD_xxx can contain optional subsystem and directory settings (seperated by ";;")
BUILD_*=${CMD_MAKER}
BUILD_tex=${CMD_DVIPDFM}
BUILD_latex=${CMD_DVIPDFM}
BUILD_lua=${CMD_LUA}
BUILD_vb=${CMD_PBEDIT}
BUILD_pascal=${CMD_FPC}
BUILD_au3=${CMD_AUT2EXE}
BUILD_ada=${CMD_GNATMAKE}
BUILD_asm=${CMD_MASM32_LINK_WIN}
BUILD_cs=${CMD_MCS}
BUILD_asy=${CMD_ASY2PDF}

[Default Compile Commands]:: define default compile commands for misc filetypes
## menucmds.lua will automatically set : command.compile.$(file.patterns.xxx)=$(COMPILE_xxx)
## COMPILE_xxx can contain optional subsystem and directory settings (seperated by ";;")

##define default compilers (shown in tooltip of Compile toolbutton)
compile.tex=SMART_TEX
compile.latex=SMART_TEX
if USE_MTEX
	compile.tex=CLATEX
	compile.latex=CLATEX
	
compile.cpp=MINGW
compile.c=TINYC
compile.asm=MASM32_COMPILE
compile.rc=BRCC32
compile.pascal=DELPHI
compile.vb=POWERBASIC
compile.lua=LUA
compile.au3=AUT2EXE
compile.d=DMD
compile.specman=SPECMAN
compile.forth=SPF4
compile.ada=GNAT
compile.cs=MONO
compile.ch=CH
compile.java=JAVAC
compile.js=WSCRIPT
compile.vbs=WSCRIPT
compile.lout=LOUT2PS
compile.nsis=NSIS
compile.inno=INNO
compile.pov=POV
compile.asy=ASY2EPS
compile.metapost=METAPOST
compile.sol=SOL
compile.caml=CAML
compile.euphoria=EXW
compile.metapost=METAPOST
compile.metafont=METAFONT
compile.markdown=MARKDOWN

## for tex files, now you can use integrated Simple Smart TeXing (with lua script!)
COMPILE_tex=$(COMPILE_latex)
COMPILE_latex=smart_tex;;${C_LUA}
if USE_MTEX
	COMPILE_latex=${CMD_CLATEX};;${C_SHELLEXEC}

##set default compilers: no need to modify them 
COMPILE_cpp=${CMD_$(compile.cpp)}
COMPILE_c=${CMD_$(compile.c)}
COMPILE_cs=${CMD_$(compile.cs)}
COMPILE_ch=${CMD_$(compile.ch)}
COMPILE_d=${CMD_$(compile.d)}
COMPILE_asm=${CMD_$(compile.asm)}
COMPILE_rc=${CMD_$(compile.rc)}
COMPILE_pascal=${CMD_$(compile.pascal)}
COMPILE_vb=${CMD_$(compile.vb)}
COMPILE_js=${CMD_$(compile.js)}
COMPILE_asp=${CMD_$(compile.asp)}
COMPILE_lua=${CMD_$(compile.lua)}
COMPILE_java=${CMD_$(compile.java)}
COMPILE_fortran=${CMD_$(compile.fortran)}
COMPILE_lout=${CMD_$(compile.lout)}
COMPILE_nsis=${CMD_$(compile.nsis)}
COMPILE_inno=${CMD_$(compile.inno)}
COMPILE_pov=${CMD_$(compile.pov)}
COMPILE_asy=${CMD_$(compile.asy)}
COMPILE_sol=${CMD_$(compile.sol)}
COMPILE_caml=${CMD_$(compile.caml)}
COMPILE_metapost=${CMD_$(compile.metapost)}
COMPILE_metafont=${CMD_$(compile.metafont)}
COMPILE_gnuplot=${CMD_$(compile.gnuplot)}
COMPILE_kix=${CMD_$(compile.kix)}
COMPILE_py=${CMD_$(compile.py)}
COMPILE_perl=${CMD_$(compile.perl)}
COMPILE_tcl=${CMD_$(compile.tcl)}
COMPILE_ruby=${CMD_$(compile.ruby)}
COMPILE_matlab=${CMD_$(compile.matlab)}
COMPILE_rlab=${CMD_$(compile.rlab)}
COMPILE_R=${CMD_$(compile.r)}
COMPILE_ox=${CMD_$(compile.ox)}
COMPILE_yacas=${CMD_$(compile.yacas)}
COMPILE_idl=${CMD_$(compile.idl)}
COMPILE_flash=${CMD_$(compile.flash)}
COMPILE_props=${CMD_$(compile.props)}
COMPILE_smalltalk=${CMD_$(compile.smalltalk)}
COMPILE_sql=${CMD_$(compile.sql)}
COMPILE_forth=${CMD_$(compile.forth)}
COMPILE_lisp=${CMD_$(compile.lisp)}
COMPILE_scheme=${CMD_$(compile.scheme)}
COMPILE_vbscript=${CMD_$(compile.vbscript)}
COMPILE_freebasic=${CMD_$(compile.freebasic)}
COMPILE_text=${CMD_$(compile.text)}
COMPILE_makefile=${CMD_$(compile.make)}
COMPILE_css=${CMD_$(compile.css)}
COMPILE_hta=${CMD_$(compile.hta)}
COMPILE_html=${CMD_$(compile.html)}
COMPILE_xml=${CMD_$(compile.xml)}
COMPILE_php=${CMD_$(compile.php)}
COMPILE_flagship=${CMD_$(compile.flagship)}
COMPILE_diff=${CMD_$(compile.diff)}
COMPILE_conf=${CMD_$(compile.conf)}
COMPILE_mtexlang=${CMD_$(compile.mtexlang)}
COMPILE_sketch=${CMD_$(compile.sketch)}
COMPILE_jsplot=${CMD_$(compile.jsplot)}
COMPILE_lyx=${CMD_$(compile.lyx)}
COMPILE_euphoria=${CMD_$(compile.euphoria)}
COMPILE_vhdl=${CMD_$(compile.vhdl)}
COMPILE_ray=${CMD_$(compile.ray)}
COMPILE_markdown=${CMD_$(compile.markdown)};;${C_LUA}

[Default CompileMain Commands]:: define default CompileMain commands for misc filetypes
## menucmds.lua will automatically set: command.compilemain.$(file.patterns.xxx)=$(COMPILEMAIN_xxx)
## COMPILEMAIN_xxx can contain optional subsystem and directory settings (seperated by ";;")

COMPILEMAIN_tex=$(COMPILEMAIN_latex)
COMPILEMAIN_latex=smart_tex;;${C_LUA}
COMPILEMAIN_pascal=${DELPHI}\dcc32.exe ${CurMainFile};;${C_CONSOLE}

[Tools Menu for all files]:: define menus for all files
## reserve 0~59 for language specific tools
## reserve 60~99 for mini spell checking suggestions
SPELL_CHECKING_NUM_MIN=60
SPELL_CHECKING_NUM_MAX=99
## reserve 100~299 for common tools menu 
MENU_NUM_*=100

## define various common tools for all files
MENU_*=\
Reload Menucmds!|reload_menucmds|Ctrl+Alt+F9|$(C_LUA)|separator==>1|id==>MENUCMDS;;\
Reload StartUp script!|dofile ${ext.lua.startup.script}|Ctrl+Alt+F10|$(C_LUA)|$(C_NOTSAVE);;\
Set Default Compiler!|set_compiler()|Ctrl+Alt+F11|$(C_LUA);;\
Copy To Clipboard|@@SUBMENU_clipboard|110;;\
Insert|@@SUBMENU_insert|120;;\
Move Selected Lines|@@SUBMENU_move_lines|130;;\
Find/Search|@@SUBMENU_find|135;;\
From Selection|@@SUBMENU_from_sel|150;;\
Spell Checking|@@SUBMENU_spell_checking|163;;\
Edit Settings|@@SUBMENU_settings|170;;\
Common Tools|@@SUBMENU_all|182;;\
Encodings|@@SUBMENU_encodings|199;;\
Macro Tools|@@SUBMENU_macros|212;;\
SciTE Lua Tools|@@SUBMENU_luatools|215;;\
Misc Tools|@@SUBMENU_misc|235;;\
SVN|@@SUBMENU_svn|250;;\
Debugger (lua/gdb/mdb)|@@SUBMENU_debug|270;;\
Open Files|@@SUBMENU_openfiles|290;;\


-- Reload Startup script!!|scite.ReloadStartupScript|1|$(C_LUA)|toolbar==>${ICO_RELOAD};;\
Generate Makefile|${CMD_GENMAKEFILE}|Shift+F7|$(C_SHELLEXEC)|separator==>1;;\
Set As Main File|set_mainfile|Shift+F10|$(C_LUA)|checked==>${IS_MAINFILE}|id==>SET_MAINFILE;;\
Smart Compile Main File|compile_mainfile|Ctrl+F10|$(C_LUA);;\

##the following two features in MTeX may be implemented with simple lua scripts for all systems
##define command to generate makefile
CMD_GENMAKEFILE=$(CMD) genmakefile.btm "$(FilePath)"
##define command to compile main file
CMD_COMPILEMAIN=$(CMD) clatex.btm "$(MainFile)"


[Tools/Encoding]:: encoding related tools
SUBMENU_encodings=\
Toggle UTF8|toggle_utf8||$(C_LUA)|$(C_NOTSAVE)|usermenu==>1;;\
Show UTF8 Code|Demo_FromUTF8||$(C_LUA)|$(C_NOTSAVE);;\
AsciiTable|ascii_table||$(C_LUA)|$(C_NOTSAVE);;\
AsciiTable(wide)|ASCIITable(true)||$(C_LUA)|$(C_NOTSAVE);;\
UTF16Table|UTF16Table||$(C_LUA)|$(C_NOTSAVE);;\
GBK --> Big5|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" gbk big5 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
Big5 --> GBK|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" big5 gbk ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI --> OEM 866|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" windows-1251 cp866 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI --> KOI8-R|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" windows-1251 koi8 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI --> UTF-8|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" windows-1251 utf-8 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI --> UCS-2 Big Endian|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" windows-1251 unicodeFFFE ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI --> ISO 8859-5|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" windows-1251 ISO_8859-5 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\

ANSI <-- OEM 866|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" cp866 windows-1251 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI <-- KOI8-R|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" koi8 windows-1251 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI <-- UTF-8|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" utf-8 windows-1251 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI <-- UCS-2 Big Endian|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" unicodeFFFE windows-1251 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\
ANSI <-- ISO 8859-5|CSCRIPT /nologo "${SciteDefaultHome}\tools\MyRecode.js" ISO_8859-5 windows-1251 ||$(C_CONSOLE)|$(C_NOTSAVE)|input==>${CurrentSelection}|mode==>subsystem:windows,savebefore:no,quiet:yes,filter:yes,replaceselection:yes;;\



[Tools/SciTE Lua Tools]:: tools writen in SciTE lua scripts
SUBMENU_luatools=\
Counting Words|word_count||$(C_LUA)|$(C_NOTSAVE)||id==>COUNT_WORD;;\
Select Lua Tools|select_lua_tools||$(C_LUA)|$(C_NOTSAVE)||id==>LUATOOLS;;\
Indent Tab<-->Space|indent_tab_to_space||$(C_LUA)|$(C_NOTSAVE)||id==>TAB_SPACE;;\
Clean Doc: Strip Trailing Spaces|stripTrailingSpaces||$(C_LUA)|$(C_NOTSAVE)||id==>STRIP_TRAILING;;\
Clean Doc: Fix Indentation|fixIndentation||$(C_LUA)|$(C_NOTSAVE)||id==>FIX_INDENT;;\
Clean Doc: Clean White Spaces|cleanDocWhitespace||$(C_LUA)|$(C_NOTSAVE)||==>CLEAN_WHITESPACE;;\
Calculator|Calculator||$(C_LUA)|$(C_NOTSAVE)||id==>CALCULATOR;;\
HexEdit|HexEditor||$(C_LUA)|$(C_NOTSAVE)||id==>HEXEDIT;;\
ColourTest|ColourTest||$(C_LUA)|$(C_NOTSAVE);;\
Folding--ToggleOutline|toggle_outline||$(C_LUA)|$(C_NOTSAVE);;\
Folding--Rescan|process_current_file||$(C_LUA)|$(C_NOTSAVE);;\
Add Time Stamp|add_time_stamp||$(C_LUA)|$(C_NOTSAVE)||id==>ADD_TIMESTAMP;;\
Ctags-FindCtag|find_ctag||$(C_LUA)|$(C_NOTSAVE)||id==>FINDCTAG;;\
Ctags-SetMark|set_mark||$(C_LUA)|$(C_NOTSAVE)||id==>SETMARK;;\
Ctags-GotoMark|goto_mark||$(C_LUA)|$(C_NOTSAVE)||id==>GOTOMARK;;\
Ctags-SelectMark|select_mark||$(C_LUA)|$(C_NOTSAVE)||id==>SELMARK;;\


[Tools/Clipboard]:: copy some properties to clipboard
SUBMENU_clipboard=\
All Text|dostring editor:CopyText(editor:GetText())||$(C_LUA)|$(C_NOTSAVE)|id==>COPY_TO_CLIPBOARD_ALL;;\
FilePath|dostring editor:CopyText(props["FilePath"])||$(C_LUA)|$(C_NOTSAVE)|id==>COPY_TO_CLIPBOARD_FULLNAME;;\
FileDir|dostring editor:CopyText(props["FileDir"])||$(C_LUA)|$(C_NOTSAVE)|id==>COPY_TO_CLIPBOARD_PATH;;\
FileName|dostring editor:CopyText(props["FileName"])||$(C_LUA)|$(C_NOTSAVE)|id==>COPY_TO_CLIPBOARD_FILENAME;;\
FileNameExt|dostring editor:CopyText(props["FileNameExt"])||$(C_LUA)|$(C_NOTSAVE)|id==>COPY_TO_CLIPBOARD_FILENAMEEXT;;\
Marked Lines|copy_marked_lines||$(C_LUA)|$(C_NOTSAVE);;\


[Tools/Insert]:: insert some useful things like DateTime, etc.
SUBMENU_insert=\
Insert SciTE property|select_properties|Ctrl+Alt+P|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1|id==>INS_PROPERTY;;\
DateTime|dostring editor:AddText(os.date("%c "))||$(C_LUA)|$(C_NOTSAVE)|mode==>quiet:yes,savebefore:no|id==>INS_DATETIME;;\
Date|dostring editor:AddText(os.date("%x "))|Ctrl+Alt+D|$(C_LUA)|$(C_NOTSAVE)|id==>INS_DATE;;\
Time|dostring editor:AddText(os.date("%X "))|Ctrl+Alt+T|$(C_LUA)|$(C_NOTSAVE)|id==>INS_TIME;;\
File Path|dostring editor:AddText(props["FilePath"])||$(C_LUA)|$(C_NOTSAVE)|id==>INS_FILEPATH;;\
File Dir|dostring editor:AddText(props["FileDir"])||$(C_LUA)|$(C_NOTSAVE)|id==>INS_FILEDIR;;\
File NameExt|dostring editor:AddText(props["FileNameExt"])||$(C_LUA)|$(C_NOTSAVE)|id==>INS_FILENAMEEXT;;\
Marked Lines|insert_marked_lines||$(C_LUA)|$(C_NOTSAVE)|id==>INS_DATETIME;;\
Paste Here (No Cursor Move)|dostring paste_here()|Ctrl+Alt+V|$(C_LUA)|$(C_NOTSAVE)|id==>PASTE_HERE;;\


[Tools/Misc Settings]:: toggle some settings to control some extra features
SUBMENU_settings=\
Use Tabs|toggle_use_tabs||$(C_LUA)|$(C_NOTSAVE)|id==>USE_TABS;;\
Auto Complete Braces|CheckChange AUTO_COMPLETE_BRACE||$(C_LUA)|$(C_NOTSAVE)|checked==>${AUTO_COMPLETE_BRACE};;\
Auto Complete Quotes|CheckChange AUTO_COMPLETE_QUOTE||$(C_LUA)|$(C_NOTSAVE)|checked==>${AUTO_COMPLETE_QUOTE};;\
Auto Complete LaTeX Environment|CheckChange TEX_COMPLETE_ENVIRONMENT||$(C_LUA)|$(C_NOTSAVE)|checked==>${TEX_COMPLETE_ENVIRONMENT};;\
Auto Complete ConTeXt Command \start*|CheckChange CONTEXT_COMPLETE_COMMAND||$(C_LUA)|$(C_NOTSAVE)|checked==>${CONTEXT_COMPLETE_COMMAND};;\
TeX Double $|CheckChange TEX_DOUBLE_DOLLAR||$(C_LUA)|$(C_NOTSAVE)|checked==>${TEX_DOUBLE_DOLLAR};;\
TeX Math Subscript|CheckChange TEX_SUBSCRIPT||$(C_LUA)|$(C_NOTSAVE)|checked==>${TEX_SUBSCRIPT};;\
TeX Math Superscript|CheckChange TEX_SUPERSCRIPT||$(C_LUA)|$(C_NOTSAVE)|checked==>${TEX_SUPERSCRIPT};;\
Smartly Select Block|CheckChange USING_SELECT_BLOCK||$(C_LUA)|$(C_NOTSAVE)|checked==>${USING_SELECT_BLOCK};;\
Smartly Select String|CheckChange USING_SELECT_STRING||$(C_LUA)|$(C_NOTSAVE)|checked==>${USING_SELECT_STRING};;\
Auto Substitute Words|toggle_wordsubs||$(C_LUA)|$(C_NOTSAVE)|checked==>${AUTO_WORDSUBS};;\

##not correctly implemented 
Enabling Lua Events Handlers!|toggle_events||$(C_LUA)|$(C_NOTSAVE)|checked==>${USE_EVENT_HANDLERS};;\

[Tools/Find & Search]:: useful tools to find or search, including help docs
SUBMENU_find=\
Find String/Word|FindText|Ctrl+Alt+F|$(C_LUA)|$(C_NOTSAVE)|id==>FIND_STRING_WORD;;\
Clear All Marks|ClearAllMarks|Ctrl+Alt+C|$(C_LUA)|$(C_NOTSAVE)|id==>;;\
Find matchcase|CheckChange findtext.matchcase||$(C_LUA)|$(C_NOTSAVE)|checked==>${findtext.matchcase};;\
Set Bookmarks|CheckChange findtext.bookmarks||$(C_LUA)|$(C_NOTSAVE)|checked==>${findtext.bookmarks};;\
Output Result|CheckChange findtext.output||$(C_LUA)|$(C_NOTSAVE)|checked==>${findtext.output};;\
Output Tutorial|CheckChange findtext.tutorial||$(C_LUA)|$(C_NOTSAVE)|checked==>${findtext.tutorial};;\
Search selection/functions/patterns|select_patterns|Ctrl+Alt+S|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1|separator==>1|id==>SEARCH_PATTERN;;\
Jump to Next Occurence|find_next||$(C_LUA)|$(C_NOTSAVE)|usermenu==>1|id==>JUMP_NEXT;;\
Jump to Prev Occurence|find_prev||$(C_LUA)|$(C_NOTSAVE)|usermenu==>1|id==>JUMP_PREV;;\
Grep selection in files|findstr.exe /n /c:"${CurrentSelection}" *.${FileExt}|Shift+Alt+F|$(C_CONSOLE)|$(C_AUTOSAVE)|usermenu==>1|separator==>1|id==>GREP_FILES;;\
Grep selection in session|findstr.exe /n /c:"${CurrentSelection}" ${FILES_IN_SESSION}|Shift+Alt+S|$(C_CONSOLE)|$(C_AUTOSAVE)|usermenu==>1|id==>GREP_SESSION;;\
Search selection! (Google)|http://www.google.com/search?q=${CurrentSelection}|Ctrl+Alt+F1|2|2|usermenu==>1|toolbar==>${ICO_GOOGLE}|id==>GOOGLE;;\
Search Online|select_websites|Ctrl+F1|$(C_LUA)|$(C_NOTSAVE)|id==>WEBSITES;;\
Select help files|select_helpfiles|Shift+F1|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1|id==>HELPFILES;;\
Expand Selection via Folding|select_block||$(C_LUA)|$(C_NOTSAVE)|id==>SELECTBLOCK;;\

-- FindSelection|find_selection||$(C_LUA)|$(C_NOTSAVE);;\
-- Grep selection in files|grep.exe -n "${CurrentSelection}" *.${FileExt}|Shift+Alt+F|$(C_CONSOLE)|$(C_AUTOSAVE)|usermenu==>1;;\
-- ListAllOccuraces|SciteListAllOccurances||$(C_LUA)|$(C_NOTSAVE);;\
-- MarkOccurrences|markOccurrences||$(C_LUA)|$(C_NOTSAVE);;\


[Tools/Move Lines]:: move selected lines
SUBMENU_move_lines=\
Upwards|move_up|Alt+Up|$(C_LUA)|$(C_NOTSAVE);;\
Downwards|move_down|Alt+Down|$(C_LUA)|$(C_NOTSAVE);;\
Leftwards|move_left|Alt+Left|$(C_LUA)|$(C_NOTSAVE);;\
Rightwards|move_right|Alt+Right|$(C_LUA)|$(C_NOTSAVE);;\


[Tools/From Selection]:: useful operations on selected text
SUBMENU_from_sel=\
Quote selection|select_quotes|Ctrl+Alt+Q|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1|id==>QUOTE;;\
Calculation/Open URL|calc_url||$(C_LUA)|$(C_NOTSAVE)|id==>CALC_URL;;\
Edit Color Value|colour_set||$(C_LUA)|$(C_NOTSAVE);;\
Print ASCII Codes|ascii_print||$(C_LUA)|$(C_NOTSAVE);;\
ToggleCase|text_toggle_case||$(C_LUA)|$(C_NOTSAVE)|id==>TOGGLE_CASE;;\
StripWhiteLines|stripWhiteLines||$(C_LUA)|$(C_NOTSAVE)|id==>STRIP_WHITE_LINES;;\
HexifySelection|HexifySelection||$(C_LUA)|$(C_NOTSAVE);;\
Sort Selection|sort_text||$(C_LUA)|$(C_NOTSAVE)|id==>SORT_ASC;;\
Sort Selection Reverse|sort_text_reverse||$(C_LUA)|$(C_NOTSAVE);;\
Registry Jump|wscript "${SciteDefaultHome}\tools\RegJump.js"||$(C_SHELLEXEC)|$(C_NOTSAVE)|input==>${CurrentSelection};;\
Selected text -> In a new file|text_to_newbuf||$(C_LUA)|$(C_NOTSAVE)|id==>TEXT_IN_NEW_FILE;;\

-- Add to Abbreviation|make_abbr||$(C_LUA)|$(C_NOTSAVE);;\


[Tools/Open Files]:: open some useful files
SUBMENU_openfiles=\
Select help files|select_helpfiles|Shift+F1|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1;;\
Open Selected Filename|Open_Selected_Filename||$(C_LUA)|$(C_NOTSAVE)|id==>OPEN_SELECTED_FILE;;\
Open Makefile|dostring scite.Open("Makefile")||$(C_LUA)|$(C_NOTSAVE)|id==>OPEN_MAKEFILE;;\
Open API File|open_apifile||$(C_LUA)|$(C_NOTSAVE)|id==>OPEN_API;;\
Open Abbreviation File|open_abbrfile||$(C_LUA)|$(C_NOTSAVE)|id==>OPEN_ABBR;;\
Dir Files Info| dir ${FileName}.*|Alt+F11|$(C_CONSOLE)|$(C_NOTSAVE)|id==>DIR_FILES;;\
List Related Files|list_relatedfiles|Ctrl+Alt+R|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1|id==>LIST_RELATED;;\
Open related files|select_relatedfiles|F12|$(C_LUA)|$(C_NOTSAVE)|usermenu==>1|id==>OPEN_RELATED;;\
Open configuration scripts|select_configfiles||$(C_LUA)|$(C_NOTSAVE);;\
Explorer|explorer.exe /select,"${FilePath}"|Ctrl+Alt+E|$(C_SHELLEXEC)|$(C_NOTSAVE)|toolbar==>${ICO_EXPLORER}|usermenu==>1|id==>EXPLORER;;\
Open SciTE.Session|dostring scite.Open(props["scite.userhome"]..'\\SciTE.session')||$(C_LUA)|$(C_NOTSAVE);;\


[Tools/Spell Checking]:: external and internal spell checking tools 
SUBMENU_spell_checking=\
Spell Checker (Spell)|${CMD_SPELL_CHECK}|Alt+F2|$(C_SHELLEXEC)|$(C_AUTOSAVE)|toolbar==>${ICO_SPELLING}|usermenu==>1;;\
Spell Checker Selection (Spell)|SpellCheckerSel||$(C_LUA)|$(C_NOTSAVE);;\
Spell Checker Online|http://orangoo.com/spell/||$(C_SHELLEXEC)|$(C_NOTSAVE);;\
Auto Mini_Spell_Checking|ToggleSpellChecking||$(C_LUA)|$(C_NOTSAVE)|checked==>${my.spell.checking}|separator==>1;;\
Clear Mini_Spell_Checking Marks|ClearErrorMarks||$(C_LUA)|$(C_NOTSAVE);;\
Mini_Spell_Checking Current Word|dostring CheckCurWord(false,true)||$(C_LUA)|$(C_NOTSAVE)|id==>CHECK_CURWORD;;\
Mini_Spell_Checking Selection|CheckSelection||$(C_LUA)|$(C_NOTSAVE);;\

CMD_SPELL_CHECK=$(ASPELL)\aspell $(ASPELL.OPTS) "${FilePath}"
if USE_MTEX
	CMD_SPELL_CHECK=$(CMD4NT) /c spell.btm "${FilePath}"

[Tools/Common Tools]:: some useful tools provided in MTeX
SUBMENU_all=\
Utils Manager (UtilsMan)|${MTEX}\bin\UtilsMan.exe "${FilePath}"|Alt+F1|$(C_SHELLEXEC)|toolbar==>${ICO_UTILSMAN}|id==>UTILSMAN;;\
DOS Command Prompt (TEX-DOS)|${COMSPEC} cd /d "${FileDir}"|Alt+F3|$(C_SHELLEXEC)|$(C_NOTSAVE)|toolbar==>${ICO_DOS}|usermenu==>1|id==>TEXDOS;;\
Prompt and Run Command (Run)|*$(1)$(2)$(3)$(4)|Alt+F5|$(C_CONSOLE)|$(C_AUTOSAVE);;\
Run user command with args|*${CMD} ${CMDCHDIR} && $(1)$(2)$(3)$(4) && ${CMDPAUSE}|Alt+F6|$(C_SHELLEXEC);;\
Open with Windows|"${FilePath}"|Alt+F7|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>OPENWIN;;\
Metapath File Explorer|${CMD_METAPATH}||$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>OPENWIN;;\
Templates and Symbols (TMac)|${CMD_TMAC}|Alt+F8|$(C_SHELLEXEC)|$(C_NOTSAVE)|toolbar==>${ICO_TMAC}|id==>TMAC;;\
Picture Utils (PicUtil)|${CMD_PICUTIL}|Alt+F9|$(C_WINDOWS)|$(C_NOTSAVE)|toolbar==>${ICO_PICUTIL}|id==>PICUTIL;;\
MTeX Main Menu (Main)| main|Alt+F10|$(C_SHELLEXEC)|$(C_NOTSAVE)|usermenu==>1|id==>MAINMENU;;\
Select Clip Text|select_clipfiles||$(C_LUA)|$(C_NOTSAVE);;\
Select Document Templates|select_templates|Ctrl+Alt+N|$(C_LUA)|$(C_NOTSAVE);;\
Project Manager|proj_man||$(C_LUA)|$(C_NOTSAVE);;\

CMD_TMAC=$(TMAC)\tmac.exe sc1.exe All-In-One
CMD_METAPATH=$(METAPATH)\metapath.exe
CMD_PICUTIL=$(TPX)\tpx.exe 
if USE_MTEX
	CMD_PICUTIL=$(CMD) picutil

[Tools/Debugger]:: useful  unified debugger for C/C++/C#/Java/Pascal/Lua (need gdb/mdb/jdb/lua)

SUBMENU_debug=\
Debugger Help|my_debughelp|Shift+Alt+H|$(C_LUA)|$(C_AUTOSAVE)|id==>DEBUG_RUN;;\
Run/Go|do_run|Shift+Alt+R|$(C_LUA)|$(C_AUTOSAVE)|id==>DEBUG_RUN;;\
Breakpoint|do_breakpoint|Shift+Alt+B|$(C_LUA)|$(C_AUTOSAVE)|id==>DEBUG_BREAKPOINT;;\
Step In|do_step|Shift+Alt+C|$(C_LUA)|$(C_AUTOSAVE)|id==>DEBUG_STEPIN;;\
Step Over|do_next|Shift+Alt+N|$(C_LUA)|$(C_AUTOSAVE)|id==>DEBUG_STEPOUT;;\
To Cursor|do_temp_breakpoint|Shift+Alt+G|$(C_LUA)|$(C_AUTOSAVE)|id==>DEBUG_TOCURSOR;;\
Kill (Stop)|do_kill|Shift+Alt+K|$(C_LUA)|$(C_AUTOSAVE)|id==>DEBUG_STOP;;\
Inspect|do_inspect|Shift+Alt+I|$(C_LUA)|$(C_AUTOSAVE);;\
Locals|do_locals|Shift+Alt+L|$(C_LUA)|$(C_AUTOSAVE);;\
Watch|do_watch|Shift+Alt+W|$(C_LUA)|$(C_AUTOSAVE);;\
Backtrace|do_backtrace|Shift+Alt+T|$(C_LUA)|$(C_AUTOSAVE);;\
Step Out|do_finish|Shift+Alt+M|$(C_LUA)|$(C_AUTOSAVE);;\
Do Up|do_up|Shift+Alt+U|$(C_LUA)|$(C_AUTOSAVE);;\
Do Down|do_down|Shift+Alt+D|$(C_LUA)|$(C_AUTOSAVE);;\
Make Console Window On Top|${CMD_WIN_ON_TOP}||$(C_CONSOLE)|$(C_NOTSAVE);;\

## [mhb] enhanced the debugger by the following command so as to make the debug window stay on top 
CMD_WIN_ON_TOP="$(SciteDefaultHome)\nircmdc.exe" win settopmost ititle "$(FileName).exe" 1


[Tools/View Misc]:: misc tools related with viewing or files
SUBMENU_misc=\
Open current buffer in new window|${CMD_CLONE_WIN}||$(C_SHELLEXEC)|$(C_NOTSAVE)|id==>OPEN_BUFFER_IN_NEW_WINDOW;;\
Rename current file|myrename||$(C_LUA)|$(C_NOTSAVE)|id==>RENAME_CURRENT_FILE;;\
Close All but Current|close_all_but_current||$(C_LUA)|$(C_NOTSAVE)|id==>CLOSE_ALL_BUT_CURRENT;;\
Magnify Text Size|dostring editor:ZoomIn()||$(C_LUA)|$(C_NOTSAVE)|id==>TEXT_SIZE_MAGNIFY;;\
Reduce Text Size|dostring editor:ZoomOut()||$(C_LUA)|$(C_NOTSAVE)|id==>TEXT_SIZE_REDUCE;;\
Restore to Normal|dostring editor.Zoom = 0||$(C_LUA)|$(C_NOTSAVE)|id==>TEXT_SIZE_NORMAL;;\
Double-win Edit and Preview (PDF)|${CMD_DBL_WIN_VIEWPDF}||$(C_CONSOLE)|$(C_NOTSAVE)|id==>DBL_WIN_VIEWPDF;;\
Double-win Edit and Preview (DVI)|${CMD_DBL_WIN_VIEWDVI}||$(C_CONSOLE)|$(C_NOTSAVE)|id==>DBL_WIN_VIEWDVI;;\
Put Window Left Side|${CMD_PUT_WIN_LEFT}||$(C_CONSOLE)|$(C_NOTSAVE)|id==>PUT_WIN_LEFT;;\
Put Window Right Side|${CMD_PUT_WIN_RIGHT}||$(C_CONSOLE)|$(C_NOTSAVE)|id==>PUT_WIN_RIGHT;;\
SideBar|SideBar_ShowHide||$(C_LUA)|$(C_NOTSAVE)|checked==>${sidebar.show}|id==>SIDEBAR;;\
Toggle SideBar Left/Right|SideBar_LeftRight||$(C_LUA)|$(C_NOTSAVE)|id==>SIDEBAR_LEFTRIGHT;;\
Toggle Ebook View|view_ebook||$(C_LUA)|$(C_NOTSAVE)|checked==>${ebook.view}|id==>VIEW_EBOOK;;\
MyToolbar (General)|MyToolbarAll_ShowHide||$(C_LUA)|$(C_NOTSAVE)|checked==>${MYTOOLBAR_ALL}|id==>MYTOOLBAR_ALL;;\
MyToolbar (Debug)|MyToolbar_ShowHide||$(C_LUA)|$(C_NOTSAVE)|checked==>$(MYTOOLBAR_${FileType})|id==>MYTOOLBAR_DEBUG;;\

## define command to use in menu "Open Current Buffer in New Window"
CMD_CLONE_WIN=$(SciteDefaultHome)\sc1.exe -check.if.already.open=0 -save.session=0 "$(FilePath)" -goto:$(SelectionStartLine),$(SelectionStartColumn)

## define commands for "Put Window on Left/Right", useful for comparing two files on screen
WIN_WIDTH=512
WIN_HEIGHT=768
CMD_PUT_WIN_LEFT=$(CMD) /c "$(SciteDefaultHome)\nircmdc.exe" win setsize foreground 0 0 $(WIN_WIDTH) $(WIN_HEIGHT)
CMD_PUT_WIN_RIGHT=$(CMD) /c "$(SciteDefaultHome)\nircmdc.exe" win setsize foreground $(WIN_WIDTH) 0 $(WIN_WIDTH) $(WIN_HEIGHT)

if USE_MTEX
	WIN_WIDTH=%@eval[%_xpixels/2]
	WIN_HEIGHT=%_ypixels
	CMD_PUT_WIN_LEFT=$(CMD) "$(SciteDefaultHome)\nircmdc.exe" win setsize foreground 0 0 $(WIN_WIDTH) $(WIN_HEIGHT)
	CMD_PUT_WIN_RIGHT=$(CMD) "$(SciteDefaultHome)\nircmdc.exe" win setsize foreground $(WIN_WIDTH) 0 $(WIN_WIDTH) $(WIN_HEIGHT)

## define commands for "Double-win Edit and Preview", useful for editing & previewing tex files
CMD_DBL_WIN_VIEWPDF=$(CMD) "$(SciteDefaultHome)\dbl_view.bat" "$(FileName).pdf" 
CMD_DBL_WIN_VIEWDVI=$(CMD) "$(SciteDefaultHome)\dbl_view.bat" "$(FileName).dvi" 
CMD_DBL_WIN_VIEWHTM=$(CMD) "$(SciteDefaultHome)\dbl_view.bat" "$(FileName).htm" 


[Tools/Macro Tools]:: tools related with macros operations
SUBMENU_macros=\
Macro Load From Selection|MacroLoadFromSelection||$(C_LUA)|$(C_NOTSAVE);;\
Macro Fill To Buffer|MacroFillToBuffer||$(C_LUA)|$(C_NOTSAVE);;\
Macro Fill To Buffer (LUA code)|MacroFillToBuffer LUA||$(C_LUA)|$(C_NOTSAVE);;\

[Tools/SVN]:: subversion tools
SUBMENU_svn=\
Update File|${CMD_SVN_UPDATE}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Commit File|${CMD_SVN_COMMIT}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Revert File|${CMD_SVN_REVERT}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Diff File|${CMD_SVN_UPDATE}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Add File|${CMD_SVN_ADD}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Show File Log|${CMD_SVN_LOG}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Choose a working copy|${CMD_SVN_CHOOSE_ROOT}||${C_LUA}|${C_NOTSAVE}|separator==>1;;\
Input login options|${CMD_SVN_INPUT_LOGIN}||${C_LUA}|${C_NOTSAVE};;\
Update All|${CMD_SVN_UPDATE_ALL}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Commit All|${CMD_SVN_COMMIT_ALL}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Show Log for All|${CMD_SVN_LOG_ALL}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Show Status for All|${CMD_SVN_STATUS_ALL}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Clean Up|${CMD_SVN_CLEAN_UP}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Update Branch|${CMD_SVN_UPDATE_BRANCH}||${C_SHELLEXEC}|${C_AUTOSAVE}|separator==>1;;\
Commit Branch|${CMD_SVN_COMMIT_BRANCH}||${C_SHELLEXEC}|${C_AUTOSAVE};;\
Show Log for Branch|${CMD_SVN_LOG_BRANCH}||${C_SHELLEXEC}|${C_AUTOSAVE};;\

CMD_SVN_CHOOSE_ROOT=dostring props['SVN_Root']=gui.select_dir_dlg(scite.GetTranslation('Please select a working copy:')) or '' print('SVN_Root='..props['SVN_Root'])
CMD_SVN_INPUT_LOGIN=dostring props['SVN_Login']=gui.prompt_value(scite.GetTranslation('Please input the login options:'),props['SVN_Login'])  print('SVN_Login='..props['SVN_Login'])
#~ CMD_SVN=$(CMD) start "SVN" "$(SVN)\$(SVN_EXE)" $(SVN.OPTS)
CMD_SVN=$(CMDUTIL) svn 
CMD_SVN2=$(CMD_SVN) $(SVN_Login)
CMD_SVN3=$(CMD_SVN) $(SVN_Login) --editor-cmd notepad 
CMD_SVN_UPDATE=$(CMD_SVN2) update "$(FilePath)"  && $(CMDPAUSE)
CMD_SVN_COMMIT=$(CMD_SVN3) commit "$(FilePath)"  && $(CMDPAUSE) 
CMD_SVN_REVERT=$(CMD_SVN) revert "$(FilePath)"  && $(CMDPAUSE)
CMD_SVN_ADD=$(CMD_SVN) add "$(FilePath)" && $(CMDPAUSE)
CMD_SVN_DIFF=$(CMD_SVN2) diff "$(FilePath)" && $(CMDPAUSE)
CMD_SVN_LOG=$(CMD_SVN2) log "$(FilePath)" && $(CMDPAUSE)
CMD_SVN_UPDATE_BRANCH=$(CMD_SVN2) update "$(SVN_Branch)" && $(CMDPAUSE)
CMD_SVN_COMMIT_BRANCH=$(CMD_SVN3) commit "$(SVN_Branch)" && $(CMDPAUSE)
CMD_SVN_LOG_BRANCH=$(CMD_SVN2) log "$(SVN_Branch)" && $(CMDPAUSE)
CMD_SVN_UPDATE_ALL=$(CMD_SVN2) update "$(SVN_Root)" && $(CMDPAUSE)
CMD_SVN_COMMIT_ALL=$(CMD_SVN3) commit "$(SVN_Root)" && $(CMDPAUSE)
CMD_SVN_LOG_ALL=$(CMD_SVN2) log "$(SVN_Root)" && $(CMDPAUSE)
CMD_SVN_STATUS_ALL=$(CMD_SVN2) status "$(SVN_Root)" && $(CMDPAUSE)
CMD_SVN_CLEAN_UP=$(CMD_SVN) cleanup "$(SVN_Root)" && $(CMDPAUSE)
SVN_Branch=$(FileDir)


[Tools Menu for tex files]:: define tools for all TeX systems plus unique tools in MTeX and MiCTeX

MENU_tex=$(MENU_latex)

MENU_latex=\
Simple Smart TeXing (for any system)|smart_tex|Ctrl+1|$(C_LUA)|$(C_AUTOSAVE)|id==>SMARTTEX;;\
Simple Smart TeXing Once (for any system)|smart_tex_once|1|$(C_LUA)|$(C_AUTOSAVE)|id==>SMARTTEX1;;\
Preview dvi|${CMD_DVIVIEW}|1|$(C_SHELLEXEC)|$(C_NOTSAVE)|id==>DVIVIEW;;\
Preview ps|${CMD_PSVIEW}|1|$(C_SHELLEXEC)|$(C_NOTSAVE)|id==>PSVIEW;;\
Preview Pdf|${CMD_PDFVIEW}|1|$(C_SHELLEXEC)|$(C_NOTSAVE)|id==>PDFVIEW;;\
Dvi Forward Search|${CMD_DVIFIND}|1|$(C_SHELLEXEC)|$(C_NOTSAVE)|id==>DVIFIND;;\
Pdf Forward Search|${CMD_PDFFIND}|1|$(C_SHELLEXEC)|$(C_NOTSAVE)|id==>PDFFIND;;\
Clean Temporary Files|${CMD_CLEAN_TMP}|Ctrl+Delete|id==>CLEANTMP;;\
Compile Selected Block|compile_tex_block|Ctrl+Alt+Enter|$(C_LUA)|id==>COMPILEBLOCK;;\
$(SPECIFIC_SUBMENU);;\
LaTeX|@@SUBMENU_latex|20;;\
Misc TeX Tools|@@SUBMENU_tex_misc|30;;\
LaTeX Tools (lua)|@@SUBMENU_latex_tools|50;;\

## since MTeX and MiCTeX provides similar smart texing, we only allow to use one group so as to avoid shortcut conflicts
SPECIFIC_SUBMENU=MiCTeX Specific|@@SUBMENU_mictex_main|10
if USE_MTEX
	SPECIFIC_SUBMENU=MTeX Specific|@@SUBMENU_mtex_main|10

# Smart Preview|tex_smart_preview|0|$(C_LUA)|$(C_AUTOSAVE);;\
## tex_smart_compile() and tex_smart_preview() are lua functions to be implemented soon, not depending TeX systems

SUBMENU_latex=\
latex only!|${CMD_LATEX1}|Shift+Alt+1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>LATEX1;;\
pdflatex only!|${CMD_PDFLATEX1}|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>PDFLATEX1;;\
xelatex only!|${CMD_XELATEX1}|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>XELATEX1;;\
tex only!|${CMD_TEX1}|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>TEX1;;\
BibTeX|${CMD_BIBTEX}|1|id==>BIBTEX;;\
Makeindex|${CMD_MAKEINDEX}|1|id==>MAKEINDEX;;\
Gbk2Uni|${CMD_GBK2UNI}|1|id==>GBK2UNI;;\
Dvi->Ps|${CMD_DVIPS}|1|$(C_CONSOLE)|id==>DVIPS;;\
Dvi->Pdf|${CMD_DVIPDFM}|1|$(C_CONSOLE)|id==>DVIPDFM;;\
Ps->Pdf|${CMD_PS2PDF}|Shift+Alt+0|$(C_CONSOLE)|id==>PS2PDF;;\

##define common commands in all TeX systems
CMD_LATEX1=$(CMD) latex $(LATEX1.OPTS) "$(FilePath)"
CMD_PDFLATEX1=$(CMD) pdflatex $(PDFLATEX1.OPTS) "$(FilePath)"
CMD_XELATEX1=$(CMD) xelatex $(XELATEX1.OPTS) "$(FilePath)"
CMD_TEX1=$(CMD) tex $(TEX1.OPTS) "$(FilePath)"
CMD_BIBTEX=$(CMD) bibtex "$(FileName)"
CMD_MAKEINDEX=$(CMD) makeindex "$(FileNameExt)"
CMD_GBK2UNI=$(CMD) gbk2uni -u "$(FileName).out"
CMD_DVIPS=$(CMD) dvips "$(FileName).dvi" -o "$(FileName).ps"
CMD_DVIPDFM=$(CMD) dvipdfm "$(FileName).dvi"
CMD_PS2PDF=$(CMD) ps2pdf "$(FileName).ps" "$(FileName).pdf"

##define command to clean temporary files
CMD_CLEAN_TMP="$(SciteDefaultHome)\clean_tmp.bat" $(FileName)

##define preview commands for dvi,ps,pdf files and misc conversion commands
CMD_DVIVIEW=yap -1 "$(FileDir)\$(FileName).dvi"
CMD_DVIFIND=yap -1 -s "$(SelectionStartLine) $(FileNameExt)"  "$(FileDir)\$(FileName).dvi"
CMD_EPSVIEW="$(GSVIEW)\gsview32" "$(FileDir)\$(FileName).eps"
CMD_PSVIEW="$(GSVIEW)\gsview32" "$(FileDir)\$(FileName).ps"
CMD_PDFVIEW="$(FileDir)\$(FileName).pdf"

CMD_SPDF_KILL=nircmdc.exe killprocess sumatrapdf.exe
CMD_SPDF_RUN="$(SUMATRAPDF)\sumatrapdf.exe" -reuse-instance -inverse-search "$(SciteDefaultHome)\Sc1.exe -open \"%f\" -goto:%l" "$(FileDir)\$(FileName).pdf"
CMD_SPDF_DDE=dde.exe SUMATRA SUMATRA control [ForwardSearch("$(FileDir)\$(FileName).pdf","$(FilePath)",$(SelectionStartLine),0,0,0)]
CMD_PDFFIND=$(CMD) $(CMD_SPDF_KILL) & start /max "" $(CMD_SPDF_RUN) & nircmdc.exe wait 1000 & $(CMD_SPDF_DDE)

if USE_MTEX
	CMD_DVIVIEW=$(CMD) dviview "$(FileDir)\$(FileName).dvi"
	CMD_DVIFIND=$(CMD) dviview -s "$(SelectionStartLine) $(FileNameExt)" "$(FileDir)\$(FileName).dvi"
	CMD_PDFVIEW=$(CMD) pdfview "$(FileDir)\$(FileName).pdf"
	CMD_PDFFIND=$(CMD) pdfview-s "$(FileDir)\$(FileName).pdf" $(SelectionStartLine)
	CMD_EPSVIEW=$(CMD) psview "$(FileDir)\$(FileName).eps"
	CMD_PSVIEW=$(CMD) psview "$(FileDir)\$(FileName).ps"


[Tools Menu for tex files/LaTeX Tools]: some lua tools for LaTeX files
SUBMENU_latex_tools=\
Check Refs or Bibs|Check_RefBib||$(C_LUA)|1;;\
List Headers|dostring list_headers(true)||$(C_LUA)|1;;\
List Figures|dostring list_figures(true)||$(C_LUA)|1;;\
List Tables|dostring list_tables(true)||$(C_LUA)|1;;\
List Packages|dostring list_packages(true)||$(C_LUA)|1;;\
List Fonts|dostring list_fonts(true)||$(C_LUA)|1;;\
List Labels|dostring list_labels(true)||$(C_LUA)|1;;\
List Index Commands|dostring list_indexs(true)||$(C_LUA)|1;;\
Strip TeX Comments|strip_comments||$(C_LUA);;\

-- Show All Bibitems|show_all_bibitems||$(C_LUA)|1;;\
-- CheckRefList|CheckRefList||$(C_LUA)|$(C_NOTSAVE);;\
-- package_list|package_list||$(C_LUA)|$(C_NOTSAVE);;\
-- show_subfile_list|show_subfile_list||$(C_LUA)|$(C_NOTSAVE);;\
-- show_tex_argumentlist|show_tex_argumentlist||$(C_LUA)|$(C_NOTSAVE);;\
-- Open_subfiles|Open_subfiles||$(C_LUA)|$(C_NOTSAVE);;\
-- show_bibfile_list|show_bibfile_list||$(C_LUA)|$(C_NOTSAVE);;\

[Tools Menu for tex files/MTeX Specific]:: compiling tex files with clatex.btm, only for MTeX
SUBMENU_mtex_main=\
Set CLatex Options|${CMD4NT} /c setclatex "${FilePath}"|Ctrl+Alt+0|$(C_SHELLEXEC)|id==>SETCLATEX;;\
Smart CLatex (dvi+ps+pdf)|${CMD4NT} /c clatex -all "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>CLATEX;;\
PLatex Typesetting (dvi)|${CMD4NT} /c clatex -platex "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>PLATEX;;\
PdfLatex Typesetting (pdf)|${CMD4NT} /c clatex -pdflatex "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>PDFLATEX;;\
XeLatex Typesetting (pdf)|${CMD4NT} /c clatex -xelatex "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>XELATEX;;\
Smart CLatex (dvi+ps+pdf) Once!|${CMD4NT} /c clatex -1 -all "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>CLATEXONCE;;\
PLatex Typesetting (dvi) Once!|${CMD4NT} /c clatex -1 -platex "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>PLATEXONCE;;\
PdfLatex Typesetting (pdf) Once!|${CMD4NT} /c clatex -1 -pdflatex "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>PDFLATEXONCE;;\
XeLatex Typesetting (pdf) Once!|${CMD4NT} /c clatex -1 -xelatex "${FilePath}"|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>XELATEXONCE;;\


[Tools Menu for tex files/MiCTeX Specific]:: compiling tex files with SmartTeXer, for MiCTeX
SUBMENU_mictex_main=\
DVI Once|${SMARTTEXER_EXE} -once -source="${FileNameExt}"|Ctrl+Alt+1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>DVIONCE;;\
DVI Full|${SMARTTEXER_EXE} -nonstopmode -source="${FileNameExt}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>DVIFULL;;\
PDF Once|${SMARTTEXER_EXE} -once -pdf -synctex -source="${FileNameExt}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>PDFONCE;;\
PDF Full|${SMARTTEXER_EXE} -nonstopmode -pdf -synctex -view -source="${FileNameExt}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>PDFFULL;;\
PS Once|${SMARTTEXER_EXE} -once -dvips -source="${FileNameExt}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>PSONCE;;\
PS Full|${SMARTTEXER_EXE} -dvips -view -source="${FileNameExt}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>PSFULL;;\
Make html|${SMARTTEXER_EXE} -html -nonstopmode -view -source="${FileNameExt}"|1|$(C_CONSOLE)|$(C_AUTOSAVE)|id==>HTMFULL;;\
Update MiKTeX|${CMD_MIKUPD}||${C_SHELLEXEC}|$(C_NOTSAVE)|id==>MIKUPD;;\
Browse Packages|${CMD_MIKPKG}||${C_SHELLEXEC}|$(C_NOTSAVE)|id==>MIKPKG;;\
MiKTeX Settings|${CMD_MIKOPT}||${C_SHELLEXEC}|$(C_NOTSAVE)|id==>MIKOPT;;\

## define SMARTTEXER and MIKTEXBIN in myutils.properties
CMD_MIKUPD=$(MIKTEXBIN)\texhash.exe
CMD_MIKPKG=$(MIKTEXBIN)\mpm.exe
CMD_MIKOPT=$(MIKTEXBIN)\mo.exe

[Tools Menu for tex files/Misc TeX Tools]:: extra tools in MTeX/MiCTeX, some only available in MTeX
SUBMENU_tex_misc=\
PdfFrag Preprocesor|${CMD_PDFFRAG}||$(C_CONSOLE)|id==>PDFFRAG;;\
PPower Postprocessor|${CMD_PPOWER} ||$(C_CONSOLE)|id==>PPOWER;;\
Equation Editor (TeXaide)|${CMD_EQNEDT}||$(C_SHELLEXEC)|id==>TEXAIDE;;\
TeX Bitmap Tool (TeX-Bmp)|${CMD_TEXBMP}||$(C_SHELLEXEC)|id==>TEXBMP;;\
LaTeX->html|${CMD_TEX2HTM}||$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>TEX2HTM;;\
LaTeX->RTF|${CMD_TEX2WORD}||$(C_SHELLEXEC)|$(C_AUTOSAVE)|id==>TEX2WORD|;;\
Preview html|${CMD_VIEWHTM}||id==>HTMVIEW;;\
Preview rtf|${CMD_VIEWRTF}||id==>RTFVIEW;;\
Bib Tool (JabRef)|${CMD_BIB}||id==>BIB;;\
Extract Bib-info (BibX)|${CMD_BIBX}||$(C_SHELLEXEC)|id==>BIBX;;\
BibEdit|${CMD_BIBEDIT}|${CMD_BIBEDIT}||$(C_SHELLEXEC)|id==>BIBEDIT;;\
Un-BibEdit (Restore Chinese Chars)|un_bibedit||$(C_LUA)|$(C_NOTSAVE)|id==>UNBIB;;\
Online Equation Editor|${CMD_WEBEQN}|Shift+Alt+E|$(C_SHELLEXEC)|id==>WEBEQN;;\

CMD_BIB=$(CMD) start "" "$(JABREF)\jabref.jar"
CMD_BIBX=$(BIBX)\bibx.exe
CMD_VIEWHTM=$(CMD) "$(SciteDefaultHome)\preview.bat" "$(FileName)" htm
CMD_VIEWRTF=$(CMD) "$(SciteDefaultHome)\preview.bat" "$(FileName)" rtf
CMD_WEBEQN=http://thornahawk.unitedti.org/equationeditor/equationeditor.php
CMD_EQNEDIT=$(TEXAIDE)\texaide.exe
CMD_BIBEDIT=$(BIBEDIT)\bibedit.exe
CMD_PDFFRAG=$(CMDUTIL) pdffragger "$(FileNameExt)"
CMD_PPOWER=$(CMD) java.exe -jar "$(PPOWER)\ppower4.jar" "$(FileName).pdf"
CMD_TEX2HTM=$(SMARTTEXER_EXE) -html -nonstopmode -view -source="$(FileNameExt)"
CMD_TEX2WORD=$(LATEX2RTF)\latex2rt.exe -P "$(LATEX2RTF)" "$(FileNameExt)"
#~ CMD_TEXBMP=$(CMDUTIL) aurora
CMD_TEXBMP=$(TEXBMP)\tex-bmp.exe

--http://www.numberempire.com/texequationeditor/equationeditor.php
--http://www.sitmo.com/latex/
--http://www.hamline.edu/~arundquist/equationeditor/
--http://www.codecogs.com/components/equationeditor/equationeditor.php

if USE_MTEX
	CMD_PDFFRAG=$(CMD) pdffrag "$(FileNameExt)" 
	CMD_PPOWER=$(CMD) ppower "$(FileName).pdf"
	CMD_TEX2HTM=$(CMD) l2h "$(FilePath)" 
	CMD_TEX2WORD=$(CMD) l2w "$(FilePath)" 
	CMD_EQNEDIT=$(CMDUTIL) texaide
	CMD_TEXBMP=$(MTEX)\bin\tex-bmp.exe
	# CMD_VIEWHTM=$(CMD) preview.btm "$(FileName)*.htm*"
	# CMD_VIEWRTF=$(CMD) preview.btm "$(FileName)*.rtf"
	


[Tools Menu for bib files]:: define tools for bib files
MENU_bib=\
Extract Bib-info (BibX)|${CMD_BIBX}|Ctrl+1|$(C_SHELLEXEC)|id==>BIBX;;\
BibEdit|${CMD_BIBEDIT}|1|$(C_SHELLEXEC);;\
UnBibEdit (Restore Chinese Chars)|${CMD_UNBIB}|1;;\
BibDb (DOS)|${CMD_BIBDB}|1;;\
WBibDb (Windows)|${CMD_WBIBDB}|1;;\
JabRef|${CMD_JABREF}|1;;\
BibUs|${CMD_BIBUS}|1;;\
EndNote|${CMD_ENDNOTE}|1;;\
NoteExpress|${CMD_NOTEEXPRESS}|1;;\
Biblioscape|${CMD_BIBLIOSCAPE}|1;;\
Jumper Networks|http://www.jumpernetworks.com/|1;;\
Elsevier 2Collab|https://www.2collab.com/login|1|$(C_SHELLEXEC);;\


[Tools Menu for metapost files]:: define tools for metapost files
MENU_metapost=\
Compile+Preview (PS)|${CMD_MPVIEW_PS}|Ctrl+1|toolbar==>${ICO_PS_GO};;\
Compile+Preview (PDF)|${CMD_MPVIEW_PDF}|1|toolbar==>${ICO_PDF_GO};;\
Compile only|${CMD_MPOST}|1;;\
Mp2eps+Preview|$(CMD_MP2EPS_VIEW)|1;;\
Mp2eps only|$(CMD_MP2EPS)|1|toolbar==>${ICO_TO_EPS};;\
Mp2pdf+Preview|$(CMD_MP2PDF_VIEW)|1;;\
Mp2pdf only|$(CMD_MP2PDF)|1|toolbar==>${ICO_TO_PDF};;\
Preview EPS| preview "${FileName}*.eps"|1|toolbar==>${ICO_EPS_VIEW};;\
Preview PDF| preview "${FileName}*.pdf"|1|toolbar==>${ICO_PDF_VIEW}

CMD_MPOST=$(CMD) mpost "$(FileNameExt)"
CMD_MP2EPS=$(CMD) mp2eps "$(FileNameExt)"
CMD_MP2PDF=$(CMD) mp2pdf "$(FileNameExt)"
CMD_MP2EPS_VIEW=$(CMD) mp2eps -view "$(FileNameExt)"
CMD_MP2PDF_VIEW=$(CMD) mp2pdf -view "$(FileNameExt)"
CMD_MPVIEW_PS=$(CMD) mpview "$(FileNameExt)
CMD_MPVIEW_PDF=$(CMD) mpview -pdf "$(FileNameExt)

if USE_MTEX
	CMD_MP2EPS=$(CMD) mp2eps "$(FileNameExt)"
	CMD_MP2PDF=$(CMD) mp2pdf "$(FileNameExt)"
	CMD_MP2EPS_VIEW=$(CMD) mp2eps -view "$(FileNameExt)"
	CMD_MP2PDF_VIEW=$(CMD) mp2pdf -view "$(FileNameExt)"
	CMD_MPVIEW_PS=$(CMD) mproof -ps "$(FileNameExt)
	CMD_MPVIEW_PDF=$(CMD) mproof -pdf "$(FileNameExt)



[Tools Menu for asymptote files]:: define tools for asy files
MENU_asy=\
asy2eps|${CMD_ASY2EPS}|Ctrl+1|$(C_CONSOLE)|$(C_AUTOSAVE)|toolbar==>${ICO_EPS_GO};;\
asy2pdf|${CMD_ASY2PDF}|1|$(C_CONSOLE)|$(C_AUTOSAVE)|toolbar==>${ICO_PDF_GO};;\
asy2pdf (prc)|${CMD_ASY2PRC}|1|$(C_SHELLEXEC)|$(C_AUTOSAVE)|toolbar==>${ICO_PDF_GO};;\
Preview EPS|${CMD_EPSVIEW}|1|toolbar==>${ICO_EPS_VIEW};;\
Preview PDF|${CMD_PDFVIEW}|1|toolbar==>${ICO_PDF_VIEW}

ASY.OPTS=-vv
CMD_ASY2EPS=$(CMDUTIL) asy $(ASY.OPTS) -f eps "$(FileNameExt)"
CMD_ASY2PDF=$(CMDUTIL) asy $(ASY.OPTS) -f pdf "$(FileNameExt)"
CMD_ASY2PRC=$(CMDUTIL) asy $(ASY.OPTS) -batchView -V -prc -f pdf "$(FileNameExt)"

[Tools Menu for tpx files]:: define tools for tpx files
MENU_tpx=\
Open with TpX| tpx "${FileNameExt}"|Ctrl+1;;\
TpX-->EPS+Preview| tpx2eps -view "${FileNameExt}"|1|toolbar==>${ICO_EPS_GO};;\
TpX-->PDF+Preview| tpx2pdf -view "${FileNameExt}"|1|toolbar==>${ICO_PDF_GO};;\
Preview EPS|${CMD_EPSVIEW}"|1|toolbar==>${ICO_EPS_VIEW};;\
Preview PDF|${CMD_PDFVIEW}|1|toolbar==>${ICO_PDF_VIEW};;\
TpX-->Metapost| tpx "${FileNameExt}" -x Metapost|1;;\
Mp2eps+Preview| mp2eps -view  "${FileName}-export.mp"|1;;\
TpX-->Jpg+Preview| tpx2jpg -view "${FileNameExt}"|1


[Tools Menu for gnuplot files]:: define tools for gnuplot files
MENU_gnuplot=\
View with gnuplot!| gnuplot "${FileNameExt}"|Ctrl+1;;\


[Tools Menu for matlab files]:: define tools for matlab files or matlab-clone
MENU_matlab=\
Run with Matlab!| start ${MATLAB}\matlab.exe ${MATLAB.OPTS} -r ${FileName}||1|$(C_WINDOWS);;\
Run with Scilab!|${SCILAB}\scilab.exe ${SCILAB.OPTS} "${FilePath}"||$(C_SHELLEXEC)|$(C_AUTOSAVE);;\
Run with Octave!|${OCTAVE}\octave.exe ${OCTAVE.OPTS} "${FilePath}"||$(C_SHELLEXEC)|$(C_AUTOSAVE);;\
Run with Mlab!|${MLAB}\mlab.exe ${MLAB.OPTS} "${FilePath}"||$(C_SHELLEXEC)|$(C_AUTOSAVE);;\


[Tools Menu for lout files]:: define tools for lout files
MENU_lout=\
lout2ps+Preview| lout "${FileNameExt}" -o "${FileName}.ps"|Ctrl+1|toolbar==>${ICO_PS_GO};;\
lout2pdf+Preview| lout -Z "${FileNameExt}" -o "${FileName}.pdf"|1|toolbar==>${ICO_PDF_GO};;\
Preview PS|${CMD_PSVIEW}|1|toolbar==>${ICO_PS_VIEW};;\
Preview PDF|${CMD_PDFVIEW}|1|toolbar==>${ICO_PDF_VIEW};;\
Ps->Pdf| ps2pdf "${FileName}.ps" "${FileName}.pdf"|$(C_CONSOLE)|id==>PS2PDF;;\


[Tools Menu for lua files]:: define tools for lua files
SUBMENU_lua=\
Run me (LuaWin)!|${CMD_MURGALUA}|Ctrl+Alt+1|$(C_SHELLEXEC);;\
Run me (MurgaLua)!|${CMD_MURGALUA}|1|$(C_CONSOLE);;\
Run me (TexLua)!|${CMD_TEXLUA}|1|$(C_CONSOLE);;\
Run me (LuaAllInOne)!|${CMD_LUAAIO}|1|$(C_CONSOLE);;\
Run me (LuaGD)!|${CMD_LUAGD}|1|$(C_CONSOLE);;\
Run me (LuaFLTK)!|${CMD_LUAFLTK}|1|$(C_CONSOLE);;\
Run me (LuaJIT)!|${CMD_LUAJIT}|1|$(C_CONSOLE);;\
Run me (LuaPlus)!|${CMD_LUAPLUS}|1|$(C_CONSOLE);;\

MENU_lua=\
Run me!|run_me|Ctrl+1|$(C_LUA);;\
Run selection!|run_selection|1|$(C_LUA);;\
Eval selection!|eval_selection|1|$(C_LUA);;\
Reload current script!|reload_script|1|$(C_LUA);;\
Eval selected property!|eval_sel_property|1|$(C_LUA);;\
Run me (Lua4NT)!|${CMD_LUA4NT}|1|$(C_CONSOLE);;\
Run me (Lua)!|${CMD_LUA}|1|$(C_CONSOLE);;\
Compile to chunk!|${CMD_LUAC}|1|$(C_CONSOLE);;\
Lua Interpretors|@@SUBMENU_lua|20;;\

[Tools Menu for idle files]:: define tools for idle files
MENU_idle=\
Run me (GUI)!|${IDLE}\idlew.exe "${FileNameExt}"|Ctrl+1;;\
Run me (Console)!|${IDLE}\idle.exe "${FileNameExt}"|1;;\
Compile to exe (GUI)!|${IDLE}\idlec.exe -w -x ${FileName} "${FileNameExt}"|1;;\
Compile to exe (Console)!|${IDLE}\idlec.exe -x ${FileName} "${FileNameExt}"|1;;\


[Tools Menu for batch files]:: define tools for batch files
MENU_batch=\
Run me (4NT)!| "${FileNameExt}"|Ctrl+1;;\
Run me (CMD)!|cmd.exe /c "${FileNameExt}"|1;;\
Run me (Command)!|command.com /c "${FileNameExt}"|1;;\


[Tools Menu for props files]:: define tools for props files (ini, reg, properties)
MENU_props=\
Encode selected text to abrr!|latex_abbrev_enc|Ctrl+1|$(C_LUA)|$(C_NOTSAVE)|toolbar==>${ICO_ENCODE_ABBR};;\
Decode selected abbr to text!|latex_abbrev_dec|1|$(C_LUA)|$(C_NOTSAVE)|toolbar==>${ICO_DECODE_ABBR};;\
Eval selected property!|eval_sel_property|1|$(C_LUA)|$(C_NOTSAVE);;\
cn_gb.prop-->cn_b5.prop| gbk2big5 cn_gb.properties cn_b5.properties|1|$(C_WINDOWS);;\
cn_b5.prop-->cn_gb.prop| big52gbk cn_b5.properties cn_gb.properties|1|$(C_WINDOWS);;\
cn2_gb.prop-->cn2_b5.prop| gbk2big5 cn2_gb.properties cn2_b5.properties|1|$(C_WINDOWS);;\
cn2_b5.prop-->cn2_gb.prop| big52gbk cn2_b5.properties cn2_gb.properties|1|$(C_WINDOWS);;\
Load into Registry|regedit "${FilePath}"|1|$(C_WINDOWS);;\


[Tools Menu for web files]:: define tools for web files (html, asp, jsp, php)
SUBMENU_web=\
Microsoft IE!|"${IEXPLORE}"\iexplore.exe "${FilePath}"|Ctrl+Alt+1|$(C_SHELLEXEC);;\
Firefox!|${FIREFOX}\firefox.exe "${FilePath}"|1|$(C_SHELLEXEC);;\
Opera!|${OPERA}\opera.exe "${FilePath}"|1|$(C_SHELLEXEC);;\
K-Mellon!|${KMELLON}\K-Mellon.exe "${FilePath}"|1|$(C_SHELLEXEC);;\
Google Chrome!|${Chrome}\chrome.exe "${FilePath}"|1|$(C_SHELLEXEC);;\
Apple Safari!|${SAFARI}\safari.exe "${FilePath}"|1|$(C_SHELLEXEC);;\
TheWorld!|${THEWORLD}\theworld.exe "${FilePath}"|1|$(C_SHELLEXEC);;\
Lotrix!|${LOTRIX}\lotrix.exe "${FilePath}"|1|$(C_SHELLEXEC);;\

MENU_web=\
Browse me!|file://${FilePath}|Ctrl+1|$(C_SHELLEXEC);;\
Test me!|http://localhost/${FileWebPath}|1|$(C_SHELLEXEC);;\ --FileWebPath is the relative path to webroot
Html Tidy!|${CMDUTIL} tidy ${TIDY.OPTS} "${FilePath}"|1|$(C_SHELLEXEC);;\
Profile php!|${PHP}\php.exe prof_results.php "${FilePath}"|1|$(C_SHELLEXEC);;\
MYSQL Admin|${MYSQL}\winmysqladmin.exe|1|$(C_SHELLEXEC);;\
Apache Start|${APACHE}\apache.exe -k start|1|$(C_SHELLEXEC);;\
Apache Stop|${APACHE}\apache.exe -k stop|1|$(C_SHELLEXEC);;\
Browsers|@@SUBMENU_web|20;;\


[Tools Menu for mtexlang files]:: define tools for MTeX lanuguage files (0,936,950,wb)
MENU_mtexlang=\
Preview me by wbox!| wbox "${FilePath}" && del wbox.lst;wbox.sav|Ctrl+1|$(C_SHELLEXEC);;\
GBK(936)-->Big5(950)| gbk2big5 ${FileName}.936 ${FileName}.950|1|$(C_CONSOLE);;\
Big5(950)-->GBK(936)| big52gbk ${FileName}.950 ${FileName}.936|1|$(C_CONSOLE);;\


[Tools Menu for cpp files]:: define tools for c/c++ files
SUBMENU_cpp=\
LCC|${CMD_LCC}|Ctrl+Alt+1;;\
PellesC|${CMD_PELLESC}|1;;\
Intel C++|${CMD_INTELC}|1;;\
Microsoft Visual C++|${CMD_MSVC}|1;;\
Open Watcom C++|${CMD_WATCOMC}|1;;\
Softintegration Ch|${CMD_CH}|1;;\
Turbo C|${CMD_TURBOC}|1;;\
DJGPP GCC|${CMD_DJGPP}|1;;\
Micro C|${CMD_MICROC}|1;;\
UnderC Interpretor|${CMD_UNDERC}|1;;\
LCC Setup Registry|${CMD_LCC_REG}||${C_CONSOLE}|${C_NOTSAVE};;\

--Lightweight C++ Translator|${CMD_BCC};;\


SUBMENU_embed_cpp=\
Arm(PXA270): Compile to MultiFlexNG|${CMD_MFNG_COMPILE}|Shift+Alt+1;;\
Arm(PXA270): Download and Test MultiFlexNG|${CMD_MFNG_DOWNLOAD}|1;;\
Arm: Compile with arm-linux-g++|${CMD_ARMGCC}|1;;\
AVR(ATmega128): Compile to MultiFlex2.hex|${CMD_MF2_COMPILE}|1;;\
AVR(ATmega128): Download and Test MultiFlex2.hex|${CMD_MF2_DOWNLOAD}|1;;\
AVR: Compile with avr-gcc|${CMD_AVRGCC}|1;;\
MCS-51: Compile with Keil C51|${CMD_C51}|1;;\
MCS-51(STC89C52): Download and Test|${CMD_STC_DOWNLOAD}|1;;\
MCS-51/PIC/Maxim/Motorola: Compile with SDCC|${CMD_SDCC}|1;;\

MENU_cpp=\
Tiny C Run|${CMD_TINYC_RUN}|Ctrl+1;;\
Tiny C Compile|${CMD_TINYC}|1;;\
MingW32 GCC|${CMD_MINGW}|1;;\
Borland C++|${CMD_BCC}|1;;\
Astyle Code Beautifier|${CMD_ASTYLE}|1|$(C_CONSOLE);;\
Uncrustify Code Beautifier|${CMD_UNCRUSTIFY}|1|$(C_CONSOLE);;\
Resource Editor (LCC)|${CMD_WEDITRES}|1|$(C_SHELLEXEC);;\
Image Editor (LCC)|${CMD_IMGEDIT}|1|$(C_SHELLEXEC);;\
Run Ctags|${CMD_CTAGS}|1|$(C_SHELLEXEC);;\
Misc Compilers|@@SUBMENU_cpp|20;;\
Embedded Compilers|@@SUBMENU_embed_cpp|30;;\


Borland/Turbo Debugger|${CMD_TDW}|1|$(C_SHELLEXEC);;\

CMD_LCC_REG_INC=reg.exe add HKCU\Software\lcc\Compiler /v includepath /t REG_SZ /d $(LCC)\..\include /f
CMD_LCC_REG_LIB=reg.exe add HKCU\Software\lcc\lcclnk /v libpath /t REG_SZ /d $(LCC)\..\lib /f
CMD_LCC_REG=$(CMD) $(CMD_LCC_REG_INC) && $(CMD_LCC_REG_LIB)

CMD_ASTYLE=$(CMDUTIL) astyle "$(FilePath)"
CMD_UNCRUSTIFY=$(CMDUTIL) uncrustify "$(FilePath)"
CMD_WEDITRES=$(LCC)\weditres.exe $(FileName).res
CMD_IMGEDIT=$(LCC)\iedit.exe
CMD_TDW=$(TDW)\tdw.exe $(FileName).exe
CMD_CTAGS=$(CMDUTIL) ctags -R && tview tags

[Tools Menu for freebasic files]:: define tools for freebasic files
MENU_freebasic=\
FreeBaisc Compile (.Exe)|${CMD_FREEBASIC}|Ctrl+1;;\

[Tools Menu for pascal files]:: define tools for pascal files
MENU_pascal=\
Delphi|${CMD_DELPHI}|Ctrl+1;;\
Delphi (KOL)|${CMD_DELPHIKOL}|1;;\
Turbo Pascal|${CMD_TURBOPASCAL}|1;;\
Free Pascal|${CMD_FREEPASCAL}|1;;\
Visual Pascal|${CMD_VISUALPASCAL}|1;;\
GNU P2C|${CMD_P2C}|1;;\
PTOP Code Beautifier| copy "${FilePath}" "${FilePath}".orig  &&  call util ptop "${FilePath}".orig "${FilePath}"|1;;\
BP7SB Code Beautifier|${CMDUTIL} bp7sb "${FilePath}"|1;;\
Dpr7Pp (Multi-language Support)|lua dpr2pp.lua "${FilePath}"|1;;\
DFMConv (to text)|${DELPHI}\dfmconv.exe -i -t *.dfm|1;;\
DFMConv (to binary)|${DELPHI}\dfmconv.exe -i -b *.dfm|1;;\
DFMEdit|${DELPHI}\dfmedit.exe "${FilePath}"|1|$(C_SHELLEXEC);;\
KOLConv|${DELPHI}\kolconv.exe|1|$(C_SHELLEXEC);;\


[Tools Menu for fortran files]:: define tools for fortran files (f,f77,f95)
MENU_fortran=\
LCC F2C|${CMD_LCC_F2C};;\
MingW32 G95|${CMD_MINGW_G95};;\
MingW32 G77|${CMD_MINGW_G77};;\
DJGPP G77|${CMD_DJGPP_G77};;\
Fortran77 (DOS)|${CMD_DOS_FORTRAN77};;\

[Tools Menu for forth files]:: define tools for forth files (4th)
MENU_forth=\
ForthCMP (DOS)| command /c ${FORTHCMP}\4c.com "${FilePath}" > 4c.log && type 4c.log && command /c ${FileName}.com;;\
GForth|${GFORTH}\gforth.exe "${FilePath}";;\
BigForth|${BIGFORTH}\bigforth.exe "${FilePath}";;\


[Tools Menu for asm files]:: define tools for asm files (asm)
SUBMENU_embed_asm=\
MCS-51: Assemble with Keil A51|${CMD_A51};;\
MCS-51: Assemble with SDCC asx8051|${CMD_ASX8051};;\
AVR: Assemble with avr-as|${CMD_AVR_AS};;\
AVR: Assemble with gavrasm|${CMD_GAVRASM};;\


MENU_asm=\
MASM32 Compile|${CMD_MASM32_COMPILE};;\
MASM32 Compile Rsrc.rc|${CMD_MASM32_RSRC};;\
MASM32 Link (Windows)|${CMD_MASM32_LINK_WIN};;\
MASM32 Link (Console)|${CMD_MASM32_LINK_CON};;\
MASM32 Build (Windows)|${CMD_MASM32_BUILD_WIN};;\
MASM32 Build (Console)|${CMD_MASM32_BUILD_CON};;\
MASM Build (DOS)|${CMD_MASM_BUILD_DOS};;\
TASM32 Build (Windows)|${CMD_TASM32_BUILD_WIN};;\
TASM Build (DOS)|${CMD_TASM_BUILD_DOS};;\
FASM|${CMD_FASM};;\
GoASM|${CMD_GOASM};;\
NASM with Mingw GCC (Windows)|${CMD_NASM_GCC};;\
Microsoft Image Editor|${CMD_IMAGEDIT}||${C_SHELLEXEC}|${C_NOTSAVE};;\
Clean obj files|${CMD_DEL_OBJS}|Ctrl+Delete;;\
Embedded Assemblers|@@SUBMENU_embed_asm|30;;\


CMD_IMAGEDIT=$(MASM32)\imagedit.exe
CMD_DEL_OBJS=$(CMD) del $(FileName).obj $(FileName).o $(FileName).lst $(FileName).map

[Tools Menu for rc files]:: define tools for rc files
MENU_rc=\
Borland Resources Compiler|${CMD_BRCC}|Ctrl+1;;\
LCC Resources Compiler|${CMD_LRC}|1;;\
Pelles C Resources Compiler|${CMD_PORC}|1;;\
Microsoft Resources Compiler|${CMD_RC}|1;;\
Microsoft CVTRES (Res to Obj)|${CMD_CVTRES}|1;;\
MingW GCC WindRes (rc->o)|${CMD_WINDRES}|1;;\
MingW GCC Res2Dll (o->dll)|${CMD_O2DLL}|1;;\
Res2Dll (using Delphi)|${CMD_RES2DLL}|1;;\
LCC Resource Editor|${CMD_WEDITRES}|1|$(C_SHELLEXEC);;\
Preview by Reshacker|${CMD_RESHACKER}|1;;\
Edit by ResEdit|${CMD_RESEDIT}|1;;\
Microsoft Image Editor|${CMD_IMAGEDIT}|1;;\
LCC Image Editor|${CMD_IEDIT}|1;;\

CMD_CVTRES=$(MASM32)\cvtres.exe /machine:ix86 $(CVTRES.OPTS) $(FileName).res
CMD_O2DLL=$(MINGW)\gcc.exe -s -shared -nostdlib -o $(FileName).dll $(FileName).o
CMD_RES2DLL=$(CMD) set DCC32=$(DELPHI)\dcc32.exe && call res2dll.btm $(FileName).res
CMD_WEDITRES=$(LCC)\weditres.exe $(FileName).res
CMD_RESHACKER=$(CMDUTIL) reshacker $(FileName).res
CMD_RESEDIT=$(CMDUTIL) resedit $(FileName).res
CMD_IEDIT=$(LCC)\iedit.exe

[Tools Menu for vbscript files]:: define tools for vbs files
MENU_vbscript=\
Run with WScript|${CMD_WSCRIPT}|Ctrl+1|$(C_SHELLEXEC);;\
Run with CScript|${CMD_CSCRIPT}|1|$(C_CONSOLE);;\
Run selection|${CMD_CSCRIPT_RUNSEL}|1|$(C_CONSOLE)|input==>${CurrentSelection};;\
Display COM object in OLE Viewer|${CMD_OLD_VIEWER}|1|$(C_CONSOLE)|input==>${CurrentSelection}

CMD_CSCRIPT_RUNSEL=$(CMD_GEN_TMPFILE) && cscript.exe /nologo $(TMPFILE)
CMD_OLE_VIEWER=wscript.exe "$(SciteDefaultHome)\tools\display_com_object_in_ole_viewer.vbs"

[Tools Menu for javascript files]:: define tools for js files
MENU_js=$(MENU_vbscript)

[Tools Menu for php files]:: define tools for php files
MENU_php=\
Browse me!|file://${FilePath}|Ctrl+1|$(C_SHELLEXEC);;\
Test me!|http://localhost/${FileWebPath}|1|$(C_SHELLEXEC);;\
Run with PHP|${PHP}\php.exe "${FilePath}"|1|$(C_CONSOLE);;\
Run with PHP-Win|${PHP}\php-win.exe "${FilePath}"|1|$(C_SHELLEXEC);;\
phpMyAdmin|iexplore.exe ${phpMyAdmin}\index.php|1|$(C_SHELLEXEC);;\
MYSQL Admin|${MYSQL}\winmysqladmin.exe|1|$(C_SHELLEXEC);;\
Apache Start|${APACHE}\apache.exe -k start|1|$(C_SHELLEXEC);;\
Apache Stop|${APACHE}\apache.exe -k stop|1|$(C_SHELLEXEC);;\
Php Beautifier|${PHP}\php.exe ${PHPBEAUTIFIER}\Beautifier.php "${FilePath}"|Ctrl+0|$(C_CONSOLE);;\

[Tools Menu for makefile]:: define tools for makefile
SUBMENU_makefile=\
MingW Make|${MAKER.MINGW} -f "${FilePath}"|Ctrl+Alt+1|1;;\
DJGPP Make|${MAKER.DJGPP} -f "${FilePath}"|1|$(C_WINDOWS);;\
TASM Make|${MAKER.TASM} -f "${FilePath}"|1|$(C_WINDOWS);;\
LCC Make|${MAKER.LCC} -f "${FilePath}"|1|$(C_WINDOWS);;\
WATCOMC Make|${MAKER.WATCOMC} -f "${FilePath}"|1|$(C_WINDOWS);;\
PELLESC Make|${MAKER.PELLESC} -f "${FilePath}"|1|$(C_WINDOWS);;\
FREEPASCAL Make|${MAKER.FREEPASCAL} -f "${FilePath}"|1|$(C_WINDOWS);;\

MENU_makefile=\
Make with default maker|${MAKER} -f "${FilePath}"|Ctrl+1|1;;\
Msys Make|${MAKER.MSYS} -f "${FilePath}"|1|1;;\
BCC Make|${MAKER.BCC} -f "${FilePath}"|1|$(C_WINDOWS);;\
MSVC NMake|${MAKER.MSVC} -f "${FilePath}"|1|$(C_WINDOWS);;\
PELLESC PoMake|${MAKER.POMAKE} -f "${FilePath}"|1|$(C_WINDOWS);;\
Misc Makers|@@SUBMENU_makefile|20;;\


[Tools Menu for text files]:: define tools for text files
MENU_text=\
Toggle Ebook View|view_ebook|Ctrl+1|$(C_LUA)|$(C_NOTSAVE)|checked==>${ebook.view};;\
TView|tview.exe "${FilePath}"|1|$(C_SHELLEXEC);;\
TextViewer|${CMDUTIL} textviewer "${FilePath}"|1|$(C_WINDOWS);;\
Txt2Chm|${CMDUTIL} txt2chm "${FilePath}"|1|$(C_WINDOWS);;\


[Tools Menu for markdown files]:: define tools for markdown files
MENU_markdown=\
Compile MarkDown to Html!|${CMD_MARKDOWN}|Ctrl+1|$(C_LUA)|$(C_SAVE);;\
View Html!|${FileName}.html|1|$(C_SHELLEXEC)|$(C_NOTSAVE);;\

